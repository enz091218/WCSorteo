<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Overlay SVG</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
    svg {
      display: block;
      width: 100vw;
      height: 100vh;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    @keyframes slideIn {
      from {
        transform: translateX(-30px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    .flag-image {
      width: 51.4px;
      height: 34.2px;
    }
    image[id^="flag"] {
      border-radius: 12.51px;
    }
  </style>
</head>
<body>
  <svg id="Capa_1" data-name="Capa 1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 2179.19 1289.75">
    <defs id="svg-defs">
      <style>
        .cls-7 { font-size: 12.17px; }
        .cls-7, .cls-8 { font-family: MODERNIZ, MODERNIZ; }
        .cls-17 { fill: transparent; }
        .cls-20 { letter-spacing: -.03em; }
        .cls-22, .cls-8 { fill: #fff; }
        .cls-23 { letter-spacing: -.06em; }
        .cls-43 { letter-spacing: -.18em; }
        .cls-8 { font-size: 16.05px; }
        .cls-56 { fill: none; stroke: none; stroke-miterlimit: 10; }
        .cls-57 { letter-spacing: -.11em; }
      </style>
      <clipPath id="flag-rounded" clipPathUnits="objectBoundingBox">
        <rect x="0" y="0" width="1" height="1" rx="0.24" ry="0.36"/>
      </clipPath>
    </defs>
    <rect class="cls-17" width="1920" height="1080"/>
    <g>
      <path class="cls-22" d="M194.58,254.73h474.83v169.3c0,20.51-16.65,37.16-37.16,37.16H194.58v-206.47h0Z"/>
      <path d="M232.7,216.61h398.58c21.04,0,38.12,17.08,38.12,38.12H194.58c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/>
      <text class="cls-8" transform="translate(366.47 242.41)"><tspan x="0" y="0">Bombo 1</tspan></text>
    </g>
    <g><path class="cls-22" d="M194.58,573.87h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path d="M232.7,535.74h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(263.7 561.54)"><tspan>Grupo A</tspan></text><image id="flagA1" x="210.63" y="591.27" width="51.4" height="34.2" href=""/><rect class="cls-56" x="210.63" y="591.27" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="A1" transform="translate(272.65 613.48)">Pais 1</text><image id="flagA2" x="210.63" y="636.25" width="51.4" height="34.2" href=""/><rect class="cls-56" x="210.63" y="636.25" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="A2" transform="translate(272.65 658.46)">Pais 2</text><image id="flagA3" x="210.63" y="681.23" width="51.4" height="34.2" href=""/><rect class="cls-56" x="210.63" y="681.23" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="A3" transform="translate(272.65 703.44)">Pais 3</text><image id="flagA4" x="210.63" y="726.2" width="51.4" height="34.2" href=""/><rect class="cls-56" x="210.63" y="726.2" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="A4" transform="translate(272.65 748.41)">Pais 4</text></g>
    <g><path class="cls-22" d="M455.44,573.87h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path d="M493.56,535.74h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(521.84 561.54)"><tspan>Grupo B</tspan></text><image id="flagB1" x="471.49" y="591.27" width="51.4" height="34.2" href=""/><rect class="cls-56" x="471.49" y="591.27" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="B1" transform="translate(533.51 613.48)">Pais 1</text><image id="flagB2" x="471.49" y="636.25" width="51.4" height="34.2" href=""/><rect class="cls-56" x="471.49" y="636.25" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="B2" transform="translate(533.51 658.46)">Pais 2</text><image id="flagB3" x="471.49" y="681.23" width="51.4" height="34.2" href=""/><rect class="cls-56" x="471.49" y="681.23" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="B3" transform="translate(533.51 703.44)">Pais 3</text><image id="flagB4" x="471.49" y="726.2" width="51.4" height="34.2" href=""/><rect class="cls-56" x="471.49" y="726.2" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="B4" transform="translate(533.51 748.41)">Pais 4</text></g>
    <g><path class="cls-22" d="M716.3,573.87h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path d="M754.42,535.74h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(782.55 561.54)"><tspan>Grupo C</tspan></text><image id="flagC1" x="732.35" y="591.27" width="51.4" height="34.2" href=""/><rect class="cls-56" x="732.35" y="591.27" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="C1" transform="translate(794.37 613.48)">Pais 1</text><image id="flagC2" x="732.35" y="636.25" width="51.4" height="34.2" href=""/><rect class="cls-56" x="732.35" y="636.25" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="C2" transform="translate(794.37 658.46)">Pais 2</text><image id="flagC3" x="732.35" y="681.23" width="51.4" height="34.2" href=""/><rect class="cls-56" x="732.35" y="681.23" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="C3" transform="translate(794.37 703.44)">Pais 3</text><image id="flagC4" x="732.35" y="726.2" width="51.4" height="34.2" href=""/><rect class="cls-56" x="732.35" y="726.2" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="C4" transform="translate(794.37 748.41)">Pais 4</text></g>
    <g><path class="cls-22" d="M977.16,573.87h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path d="M1015.28,535.74h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(1043.22 561.54)"><tspan>Grupo D</tspan></text><image id="flagD1" x="993.21" y="591.27" width="51.4" height="34.2" href=""/><rect class="cls-56" x="993.21" y="591.27" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="D1" transform="translate(1055.23 613.48)">Pais 1</text><image id="flagD2" x="993.21" y="636.25" width="51.4" height="34.2" href=""/><rect class="cls-56" x="993.21" y="636.25" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="D2" transform="translate(1055.23 658.46)">Pais 2</text><image id="flagD3" x="993.21" y="681.23" width="51.4" height="34.2" href=""/><rect class="cls-56" x="993.21" y="681.23" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="D3" transform="translate(1055.23 703.44)">Pais 3</text><image id="flagD4" x="993.21" y="726.2" width="51.4" height="34.2" href=""/><rect class="cls-56" x="993.21" y="726.2" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="D4" transform="translate(1055.23 748.41)">Pais 4</text></g>
    <g><path class="cls-22" d="M1238.02,573.87h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path d="M1276.14,535.74h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(1304.4 561.54)"><tspan>Grupo E</tspan></text><image id="flagE1" x="1254.07" y="591.27" width="51.4" height="34.2" href=""/><rect class="cls-56" x="1254.07" y="591.27" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="E1" transform="translate(1316.09 613.48)">Pais 1</text><image id="flagE2" x="1254.07" y="636.25" width="51.4" height="34.2" href=""/><rect class="cls-56" x="1254.07" y="636.25" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="E2" transform="translate(1316.09 658.46)">Pais 2</text><image id="flagE3" x="1254.07" y="681.23" width="51.4" height="34.2" href=""/><rect class="cls-56" x="1254.07" y="681.23" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="E3" transform="translate(1316.09 703.44)">Pais 3</text><image id="flagE4" x="1254.07" y="726.2" width="51.4" height="34.2" href=""/><rect class="cls-56" x="1254.07" y="726.2" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="E4" transform="translate(1316.09 748.41)">Pais 4</text></g>
    <g><path class="cls-22" d="M1498.88,573.87h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path d="M1537,535.74h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(1565.12 561.54)"><tspan>Grupo F</tspan></text><image id="flagF1" x="1514.93" y="591.27" width="51.4" height="34.2" href=""/><rect class="cls-56" x="1514.93" y="591.27" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="F1" transform="translate(1576.95 613.48)">Pais 1</text><image id="flagF2" x="1514.93" y="636.25" width="51.4" height="34.2" href=""/><rect class="cls-56" x="1514.93" y="636.25" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="F2" transform="translate(1576.95 658.46)">Pais 2</text><image id="flagF3" x="1514.93" y="681.23" width="51.4" height="34.2" href=""/><rect class="cls-56" x="1514.93" y="681.23" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="F3" transform="translate(1576.95 703.44)">Pais 3</text><image id="flagF4" x="1514.93" y="726.2" width="51.4" height="34.2" href=""/><rect class="cls-56" x="1514.93" y="726.2" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="F4" transform="translate(1576.95 748.41)">Pais 4</text></g>
    <g><path class="cls-22" d="M194.58,839.06h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path d="M232.7,800.94h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(261.87 826.74)"><tspan>Grupo G</tspan></text><image id="flagG1" x="210.63" y="856.47" width="51.4" height="34.2" href=""/><rect class="cls-56" x="210.63" y="856.47" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="G1" transform="translate(272.65 878.68)">Pais 1</text><image id="flagG2" x="210.63" y="901.44" width="51.4" height="34.2" href=""/><rect class="cls-56" x="210.63" y="901.44" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="G2" transform="translate(272.65 923.65)">Pais 2</text><image id="flagG3" x="210.63" y="946.42" width="51.4" height="34.2" href=""/><rect class="cls-56" x="210.63" y="946.42" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="G3" transform="translate(272.65 968.63)">Pais 3</text><image id="flagG4" x="210.63" y="991.4" width="51.4" height="34.2" href=""/><rect class="cls-56" x="210.63" y="991.4" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="G4" transform="translate(272.65 1013.61)">Pais 4</text></g>
    <g><path class="cls-22" d="M455.44,839.06h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path d="M493.56,800.94h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(521.44 826.74)"><tspan>Grupo H</tspan></text><image id="flagH1" x="471.49" y="856.47" width="51.4" height="34.2" href=""/><rect class="cls-56" x="471.49" y="856.47" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="H1" transform="translate(533.51 878.68)">Pais 1</text><image id="flagH2" x="471.49" y="901.44" width="51.4" height="34.2" href=""/><rect class="cls-56" x="471.49" y="901.44" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="H2" transform="translate(533.51 923.65)">Pais 2</text><image id="flagH3" x="471.49" y="946.42" width="51.4" height="34.2" href=""/><rect class="cls-56" x="471.49" y="946.42" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="H3" transform="translate(533.51 968.63)">Pais 3</text><image id="flagH4" x="471.49" y="991.4" width="51.4" height="34.2" href=""/><rect class="cls-56" x="471.49" y="991.4" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="H4" transform="translate(533.51 1013.61)">Pais 4</text></g>
    <g><path class="cls-22" d="M716.3,839.06h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path d="M754.42,800.94h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(782.54 826.74)"><tspan>Grupo I</tspan></text><image id="flagI1" x="732.35" y="856.47" width="51.4" height="34.2" href=""/><rect class="cls-56" x="732.35" y="856.47" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="I1" transform="translate(794.37 878.68)">Pais 1</text><image id="flagI2" x="732.35" y="901.44" width="51.4" height="34.2" href=""/><rect class="cls-56" x="732.35" y="901.44" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="I2" transform="translate(794.37 923.65)">Pais 2</text><image id="flagI3" x="732.35" y="946.42" width="51.4" height="34.2" href=""/><rect class="cls-56" x="732.35" y="946.42" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="I3" transform="translate(794.37 968.63)">Pais 3</text><image id="flagI4" x="732.35" y="991.4" width="51.4" height="34.2" href=""/><rect class="cls-56" x="732.35" y="991.4" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="I4" transform="translate(794.37 1013.61)">Pais 4</text></g>
    <g><path class="cls-22" d="M977.16,839.06h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path d="M1015.28,800.94h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(1043.22 826.74)"><tspan>Grupo J</tspan></text><image id="flagJ1" x="993.21" y="856.47" width="51.4" height="34.2" href=""/><rect class="cls-56" x="993.21" y="856.47" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="J1" transform="translate(1055.23 878.68)">Pais 1</text><image id="flagJ2" x="993.21" y="901.44" width="51.4" height="34.2" href=""/><rect class="cls-56" x="993.21" y="901.44" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="J2" transform="translate(1055.23 923.65)">Pais 2</text><image id="flagJ3" x="993.21" y="946.42" width="51.4" height="34.2" href=""/><rect class="cls-56" x="993.21" y="946.42" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="J3" transform="translate(1055.23 968.63)">Pais 3</text><image id="flagJ4" x="993.21" y="991.4" width="51.4" height="34.2" href=""/><rect class="cls-56" x="993.21" y="991.4" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="J4" transform="translate(1055.23 1013.61)">Pais 4</text></g>
    <g><path class="cls-22" d="M1238.02,839.06h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path d="M1276.14,800.94h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(1304.4 826.74)"><tspan>Grupo K</tspan></text><image id="flagK1" x="1254.07" y="856.47" width="51.4" height="34.2" href=""/><rect class="cls-56" x="1254.07" y="856.47" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="K1" transform="translate(1316.09 878.68)">Pais 1</text><image id="flagK2" x="1254.07" y="901.44" width="51.4" height="34.2" href=""/><rect class="cls-56" x="1254.07" y="901.44" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="K2" transform="translate(1316.09 923.65)">Pais 2</text><image id="flagK3" x="1254.07" y="946.42" width="51.4" height="34.2" href=""/><rect class="cls-56" x="1254.07" y="946.42" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="K3" transform="translate(1316.09 968.63)">Pais 3</text><image id="flagK4" x="1254.07" y="991.4" width="51.4" height="34.2" href=""/><rect class="cls-56" x="1254.07" y="991.4" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="K4" transform="translate(1316.09 1013.61)">Pais 4</text></g>
    <g><path class="cls-22" d="M1498.88,839.06h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path d="M1537,800.94h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(1560.92 826.74)"><tspan>Grupo L</tspan></text><image id="flagL1" x="1514.93" y="856.47" width="51.4" height="34.2" href=""/><rect class="cls-56" x="1514.93" y="856.47" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="L1" transform="translate(1576.95 878.68)">Pais 1</text><image id="flagL2" x="1514.93" y="901.44" width="51.4" height="34.2" href=""/><rect class="cls-56" x="1514.93" y="901.44" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="L2" transform="translate(1576.95 923.65)">Pais 2</text><image id="flagL3" x="1514.93" y="946.42" width="51.4" height="34.2" href=""/><rect class="cls-56" x="1514.93" y="946.42" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="L3" transform="translate(1576.95 968.63)">Pais 3</text><image id="flagL4" x="1514.93" y="991.4" width="51.4" height="34.2" href=""/><rect class="cls-56" x="1514.93" y="991.4" width="51.4" height="34.2" rx="12.51" ry="12.51"/><text class="cls-7" id="L4" transform="translate(1576.95 1013.61)">Pais 4</text></g>
  </svg>

  <script src="/socket.io/socket.io.js"></script>
  <script>
    const countryToCode = {
      "Alemania": "de", "Arabia Saudita": "sa", "Argelia": "dz", "Argentina": "ar", "Australia": "au",
      "Austria": "at", "Bélgica": "be", "Brasil": "br", "Cabo Verde": "cv", "Canadá": "ca",
      "Catar": "qa", "Colombia": "co", "Costa de Marfil": "ci", "Croacia": "hr", "Curazao": "cw",
      "Ecuador": "ec", "Egipto": "eg", "Escocia": "gb-sct", "España": "es", "Estados Unidos": "us",
      "Francia": "fr", "Ghana": "gh", "Haití": "ht", "Inglaterra": "gb-eng", "Irán": "ir",
      "Japón": "jp", "Jordania": "jo", "Marruecos": "ma", "México": "mx", "Noruega": "no",
      "Nueva Zelanda": "nz", "Países Bajos": "nl", "Panamá": "pa", "Paraguay": "py", "Portugal": "pt",
      "República de Corea": "kr", "Senegal": "sn", "Sudáfrica": "za", "Suiza": "ch", "Túnez": "tn",
      "Uruguay": "uy", "Uzbekistán": "uz",
      "R. EUROPA 1": "fifa", "R. EUROPA 2": "fifa", "R. EUROPA 3": "fifa", "R. EUROPA 4": "fifa",
      "R. INTERCONT 1": "fifa", "R. INTERCONT 2": "fifa"
    };

    const socket = io();
    let previousData = {};

    // Initialize previousData structure
    ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L'].forEach(letter => {
      previousData[letter] = ['', '', '', ''];
    });

    // Apply rounded corners to all flag images
    document.querySelectorAll('image[id^="flag"]').forEach(img => {
      img.setAttribute('clip-path', 'url(#flag-rounded)');
    });

    socket.on('groups_update', (data) => {
      console.log('Data updated from server (overlay2)');
      updateDisplay(data);
    });

    function updateDisplay(data) {
      ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L'].forEach(groupName => {
        const teams = data[groupName] || ['', '', '', ''];
        for (let i = 0; i < 4; i++) {
          const textId = `${groupName}${i + 1}`;
          const flagId = `flag${groupName}${i + 1}`;
          const textElement = document.getElementById(textId);
          const flagElement = document.getElementById(flagId);
          
          if (textElement && flagElement) {
            const teamName = teams[i] ? teams[i].trim() : '';
            const previousTeamName = previousData[groupName][i] ? previousData[groupName][i].trim() : '';
            const isNewTeam = teamName !== previousTeamName && teamName !== '';

            textElement.textContent = teamName || `Pais ${i + 1}`;
            
            if (teamName && countryToCode[teamName]) {
              const code = countryToCode[teamName];
              flagElement.href.baseVal = `/w2560/${code}.png`;
            } else {
              flagElement.href.baseVal = '/w2560/inc.png';
            }

            // Apply animations only when a new team is added
            if (isNewTeam) {
              console.log('Animating new team:', teamName, 'at', textId);
              
              // Get text position for clipPath IMMEDIATELY
              const textBBox = textElement.getBBox();
              const clipPathId = 'clipPath-' + textId;
              const defs = document.getElementById('svg-defs');
              
              // Remove existing clipPath if any
              const existingClip = document.getElementById(clipPathId);
              if (existingClip) existingClip.remove();
              
              // Create clipPath with width 0 BEFORE any animation
              const clipPath = document.createElementNS('http://www.w3.org/2000/svg', 'clipPath');
              clipPath.id = clipPathId;
              
              const clipRect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
              clipRect.setAttribute('x', textBBox.x);
              clipRect.setAttribute('y', textBBox.y);
              clipRect.setAttribute('width', '0');
              clipRect.setAttribute('height', textBBox.height);
              
              clipPath.appendChild(clipRect);
              defs.appendChild(clipPath);
              
              // Apply clipPath to text IMMEDIATELY (hides text)
              textElement.setAttribute('clip-path', 'url(#' + clipPathId + ')');
              
              // Animate flag with opacity
              flagElement.style.opacity = '0';
              flagElement.style.transition = 'opacity 0.6s ease-in-out';
              
              // Start flag animation immediately
              setTimeout(() => {
                flagElement.style.opacity = '1';
              }, 10);
              
              // After flag animation, do text sweep
              setTimeout(() => {
                clipRect.style.transition = 'width 0.8s ease-in-out';
                clipRect.setAttribute('width', textBBox.width);
                
                // Remove clip-path after animation completes
                setTimeout(() => {
                  textElement.removeAttribute('clip-path');
                }, 800);
              }, 600);
              
            } else if (!teamName) {
              // Reset styles when team is cleared
              flagElement.style.opacity = '1';
              flagElement.style.transition = 'none';
              textElement.removeAttribute('clip-path');
            } else {
              // For existing teams (no change), ensure they're visible
              flagElement.style.opacity = '1';
              flagElement.style.transition = 'none';
              textElement.removeAttribute('clip-path');
            }
          }
        }
      });

      // Update previousData for next comparison
      previousData = JSON.parse(JSON.stringify(data));
    }
  </script>
</body>
</html>
