<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Overlay 3 - Disposición Vertical (3×4)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    @font-face {
      font-family: 'Moderniz';
      src: url('/fuente/Moderniz.otf') format('opentype');
    }

    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      width: 100%;
      height: 100%;
      background: transparent;
      font-family: 'Moderniz', Arial, sans-serif;
    }

    body {
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #main-container {
      position: relative;
      width: 100vw;
      height: 56.25vw;
      max-height: 100vh;
      max-width: 177.78vh;
      opacity: 0;
      transition: opacity 0.8s ease-in-out;
    }

    #main-container.loaded {
      opacity: 1;
    }

    #loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.5s ease-in-out, visibility 0.5s ease-in-out;
    }

    #loading-screen.hidden {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
    }

    .loading-text {
      color: #fff;
      font-size: 24px;
      margin-bottom: 20px;
    }

    .loading-spinner {
      width: 50px;
      height: 50px;
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-top-color: #fff;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .loading-progress {
      color: #fff;
      font-size: 16px;
      margin-top: 20px;
    }

    .bombo-container {
      position: absolute;
      transition: opacity 0.4s ease-in-out;
    }

    .bombo-container.fade-out {
      opacity: 0;
    }

    .bombo-container.fade-in {
      opacity: 1;
    }

    .bombo-box {
      position: absolute;
      left: 194.58px;
      top: 254.73px;
      width: 474.83px;
      height: 169.3px;
      background: #e8e8e8;
      border-radius: 0 0 37.16px 37.16px;
    }

    .bombo-header {
      position: absolute;
      left: 194.58px;
      top: 216.61px;
      width: 474.83px;
      height: 38.12px;
      background: #000;
      border-radius: 38.12px 38.12px 0 0;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-size: 16.05px;
    }

    .bombo-items {
      position: absolute;
      left: 217px;
      top: 270px;
      display: grid;
      grid-template-columns: repeat(3, 155px);
      grid-template-rows: repeat(4, 42px);
      gap: 0;
    }

    .country-item {
      position: relative;
      height: 42px;
      display: flex;
      align-items: center;
    }

    .country-highlight {
      position: absolute;
      top: 0;
      left: 0;
      width: 115px;
      height: 42px;
      background: #AA8112;
      border-radius: 8px;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .flag-img {
      width: 48px;
      height: 32px;
      border-radius: 12px;
      object-fit: cover;
      position: relative;
      z-index: 1;
      margin-left: 5px;
    }

    .flag-img.assigned-flag {
      filter: grayscale(100%) opacity(0.5);
    }

    .country-name {
      font-size: 16.05px;
      color: #000;
      margin-left: 7px;
      position: relative;
      z-index: 1;
    }

    .country-name.assigned-text {
      color: #888888 !important;
      opacity: 0.5;
    }

    .featured-country {
      position: absolute;
      left: 312px;
      top: 255px;
      opacity: 0;
      transition: opacity 0.4s ease;
      z-index: 10;
    }

    .featured-flag {
      width: 240px;
      height: 160px;
      border-radius: 20px;
      object-fit: cover;
    }

    .featured-text {
      position: absolute;
      left: 120px;
      top: 175px;
      font-size: 28px;
      color: #000;
      font-weight: bold;
      text-align: center;
    }

    .group-container {
      position: absolute;
      width: 233.45px;
      height: 206.47px;
    }

    .group-box {
      position: absolute;
      top: 38.12px;
      width: 233.45px;
      height: 169.3px;
      background: #fff;
      border-radius: 0 0 37.16px 37.16px;
    }

    .group-header {
      position: absolute;
      top: 0;
      width: 233.45px;
      height: 38.12px;
      background: #000;
      border-radius: 38.12px 38.12px 0 0;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-size: 16.05px;
    }

    .group-team {
      position: absolute;
      display: flex;
      align-items: center;
      height: 34.2px;
    }

    .group-flag {
      width: 51.4px;
      height: 34.2px;
      border-radius: 12.51px;
      object-fit: cover;
      margin-left: 16px;
    }

    .group-team-name {
      font-size: 14px;
      color: #000;
      margin-left: 10px;
    }

    #groupA { left: 194.58px; top: 573.87px; }
    #groupB { left: 455.44px; top: 573.87px; }
    #groupC { left: 716.3px; top: 573.87px; }
    #groupD { left: 977.16px; top: 573.87px; }
    #groupE { left: 1238.02px; top: 573.87px; }
    #groupF { left: 1498.88px; top: 573.87px; }
    #groupG { left: 194.58px; top: 839.06px; }
    #groupH { left: 455.44px; top: 839.06px; }
    #groupI { left: 716.3px; top: 839.06px; }
    #groupJ { left: 977.16px; top: 839.06px; }
    #groupK { left: 1238.02px; top: 839.06px; }
    #groupL { left: 1498.88px; top: 839.06px; }
  </style>
  <script src="/config-loader.js"></script>
</head>
<body>
  <div id="loading-screen">
    <div class="loading-text">Cargando transmisión...</div>
    <div class="loading-spinner"></div>
    <div class="loading-progress" id="loading-progress">0%</div>
  </div>
  
  <div id="main-container">
    <!-- Bombo 1 -->
    <div id="bombo-container-1" class="bombo-container" style="opacity: 1;">
      <div class="bombo-box"></div>
      <div class="bombo-header"><span id="bombo-title-1">BOMBO 1</span></div>
      <div class="bombo-items">
        <div class="country-item">
          <div id="country-highlight-0" class="country-highlight"></div>
          <img id="bombo-flag-0" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-0" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-1" class="country-highlight"></div>
          <img id="bombo-flag-1" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-1" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-2" class="country-highlight"></div>
          <img id="bombo-flag-2" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-2" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-3" class="country-highlight"></div>
          <img id="bombo-flag-3" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-3" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-4" class="country-highlight"></div>
          <img id="bombo-flag-4" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-4" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-5" class="country-highlight"></div>
          <img id="bombo-flag-5" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-5" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-6" class="country-highlight"></div>
          <img id="bombo-flag-6" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-6" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-7" class="country-highlight"></div>
          <img id="bombo-flag-7" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-7" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-8" class="country-highlight"></div>
          <img id="bombo-flag-8" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-8" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-9" class="country-highlight"></div>
          <img id="bombo-flag-9" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-9" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-10" class="country-highlight"></div>
          <img id="bombo-flag-10" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-10" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-11" class="country-highlight"></div>
          <img id="bombo-flag-11" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-11" class="country-name"></span>
        </div>
      </div>
      <div id="featured-country-1" class="featured-country">
        <img id="featured-flag-1" class="featured-flag" src="/w2560/inc.png" alt="">
        <div id="featured-text-1" class="featured-text"></div>
      </div>
    </div>

    <!-- Bombo 2 -->
    <div id="bombo-container-2" class="bombo-container" style="opacity: 1; display: none;">
      <div class="bombo-box"></div>
      <div class="bombo-header"><span id="bombo-title-2">BOMBO 2</span></div>
      <div class="bombo-items">
        <div class="country-item">
          <div id="country-highlight-0-b2" class="country-highlight"></div>
          <img id="bombo-flag-0-b2" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-0-b2" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-1-b2" class="country-highlight"></div>
          <img id="bombo-flag-1-b2" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-1-b2" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-2-b2" class="country-highlight"></div>
          <img id="bombo-flag-2-b2" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-2-b2" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-3-b2" class="country-highlight"></div>
          <img id="bombo-flag-3-b2" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-3-b2" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-4-b2" class="country-highlight"></div>
          <img id="bombo-flag-4-b2" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-4-b2" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-5-b2" class="country-highlight"></div>
          <img id="bombo-flag-5-b2" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-5-b2" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-6-b2" class="country-highlight"></div>
          <img id="bombo-flag-6-b2" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-6-b2" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-7-b2" class="country-highlight"></div>
          <img id="bombo-flag-7-b2" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-7-b2" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-8-b2" class="country-highlight"></div>
          <img id="bombo-flag-8-b2" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-8-b2" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-9-b2" class="country-highlight"></div>
          <img id="bombo-flag-9-b2" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-9-b2" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-10-b2" class="country-highlight"></div>
          <img id="bombo-flag-10-b2" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-10-b2" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-11-b2" class="country-highlight"></div>
          <img id="bombo-flag-11-b2" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-11-b2" class="country-name"></span>
        </div>
      </div>
      <div id="featured-country-2" class="featured-country">
        <img id="featured-flag-2" class="featured-flag" src="/w2560/inc.png" alt="">
        <div id="featured-text-2" class="featured-text"></div>
      </div>
    </div>

    <!-- Bombo 3 -->
    <div id="bombo-container-3" class="bombo-container" style="opacity: 1; display: none;">
      <div class="bombo-box"></div>
      <div class="bombo-header"><span id="bombo-title-3">BOMBO 3</span></div>
      <div class="bombo-items">
        <div class="country-item">
          <div id="country-highlight-0-b3" class="country-highlight"></div>
          <img id="bombo-flag-0-b3" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-0-b3" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-1-b3" class="country-highlight"></div>
          <img id="bombo-flag-1-b3" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-1-b3" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-2-b3" class="country-highlight"></div>
          <img id="bombo-flag-2-b3" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-2-b3" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-3-b3" class="country-highlight"></div>
          <img id="bombo-flag-3-b3" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-3-b3" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-4-b3" class="country-highlight"></div>
          <img id="bombo-flag-4-b3" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-4-b3" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-5-b3" class="country-highlight"></div>
          <img id="bombo-flag-5-b3" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-5-b3" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-6-b3" class="country-highlight"></div>
          <img id="bombo-flag-6-b3" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-6-b3" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-7-b3" class="country-highlight"></div>
          <img id="bombo-flag-7-b3" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-7-b3" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-8-b3" class="country-highlight"></div>
          <img id="bombo-flag-8-b3" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-8-b3" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-9-b3" class="country-highlight"></div>
          <img id="bombo-flag-9-b3" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-9-b3" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-10-b3" class="country-highlight"></div>
          <img id="bombo-flag-10-b3" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-10-b3" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-11-b3" class="country-highlight"></div>
          <img id="bombo-flag-11-b3" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-11-b3" class="country-name"></span>
        </div>
      </div>
      <div id="featured-country-3" class="featured-country">
        <img id="featured-flag-3" class="featured-flag" src="/w2560/inc.png" alt="">
        <div id="featured-text-3" class="featured-text"></div>
      </div>
    </div>

    <!-- Bombo 4 -->
    <div id="bombo-container-4" class="bombo-container" style="opacity: 1; display: none;">
      <div class="bombo-box"></div>
      <div class="bombo-header"><span id="bombo-title-4">BOMBO 4</span></div>
      <div class="bombo-items">
        <div class="country-item">
          <div id="country-highlight-0-b4" class="country-highlight"></div>
          <img id="bombo-flag-0-b4" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-0-b4" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-1-b4" class="country-highlight"></div>
          <img id="bombo-flag-1-b4" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-1-b4" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-2-b4" class="country-highlight"></div>
          <img id="bombo-flag-2-b4" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-2-b4" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-3-b4" class="country-highlight"></div>
          <img id="bombo-flag-3-b4" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-3-b4" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-4-b4" class="country-highlight"></div>
          <img id="bombo-flag-4-b4" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-4-b4" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-5-b4" class="country-highlight"></div>
          <img id="bombo-flag-5-b4" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-5-b4" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-6-b4" class="country-highlight"></div>
          <img id="bombo-flag-6-b4" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-6-b4" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-7-b4" class="country-highlight"></div>
          <img id="bombo-flag-7-b4" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-7-b4" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-8-b4" class="country-highlight"></div>
          <img id="bombo-flag-8-b4" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-8-b4" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-9-b4" class="country-highlight"></div>
          <img id="bombo-flag-9-b4" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-9-b4" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-10-b4" class="country-highlight"></div>
          <img id="bombo-flag-10-b4" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-10-b4" class="country-name"></span>
        </div>
        <div class="country-item">
          <div id="country-highlight-11-b4" class="country-highlight"></div>
          <img id="bombo-flag-11-b4" class="flag-img" src="/w2560/inc.png" alt="">
          <span id="bombo-team-11-b4" class="country-name"></span>
        </div>
      </div>
      <div id="featured-country-4" class="featured-country">
        <img id="featured-flag-4" class="featured-flag" src="/w2560/inc.png" alt="">
        <div id="featured-text-4" class="featured-text"></div>
      </div>
    </div>

    <!-- Grupos A-L -->
    <div id="groupA" class="group-container">
      <div class="group-box"></div>
      <div id="headerA" class="group-header">Grupo A</div>
      <div class="group-team" style="top: 55.53px;">
        <img id="flagA1" class="group-flag" src="" alt="">
        <span id="A1" class="group-team-name">Pais 1</span>
      </div>
      <div class="group-team" style="top: 100.51px;">
        <img id="flagA2" class="group-flag" src="" alt="">
        <span id="A2" class="group-team-name">Pais 2</span>
      </div>
      <div class="group-team" style="top: 145.49px;">
        <img id="flagA3" class="group-flag" src="" alt="">
        <span id="A3" class="group-team-name">Pais 3</span>
      </div>
      <div class="group-team" style="top: 190.47px;">
        <img id="flagA4" class="group-flag" src="" alt="">
        <span id="A4" class="group-team-name">Pais 4</span>
      </div>
    </div>

    <div id="groupB" class="group-container">
      <div class="group-box"></div>
      <div id="headerB" class="group-header">Grupo B</div>
      <div class="group-team" style="top: 55.53px;">
        <img id="flagB1" class="group-flag" src="" alt="">
        <span id="B1" class="group-team-name">Pais 1</span>
      </div>
      <div class="group-team" style="top: 100.51px;">
        <img id="flagB2" class="group-flag" src="" alt="">
        <span id="B2" class="group-team-name">Pais 2</span>
      </div>
      <div class="group-team" style="top: 145.49px;">
        <img id="flagB3" class="group-flag" src="" alt="">
        <span id="B3" class="group-team-name">Pais 3</span>
      </div>
      <div class="group-team" style="top: 190.47px;">
        <img id="flagB4" class="group-flag" src="" alt="">
        <span id="B4" class="group-team-name">Pais 4</span>
      </div>
    </div>

    <div id="groupC" class="group-container">
      <div class="group-box"></div>
      <div id="headerC" class="group-header">Grupo C</div>
      <div class="group-team" style="top: 55.53px;">
        <img id="flagC1" class="group-flag" src="" alt="">
        <span id="C1" class="group-team-name">Pais 1</span>
      </div>
      <div class="group-team" style="top: 100.51px;">
        <img id="flagC2" class="group-flag" src="" alt="">
        <span id="C2" class="group-team-name">Pais 2</span>
      </div>
      <div class="group-team" style="top: 145.49px;">
        <img id="flagC3" class="group-flag" src="" alt="">
        <span id="C3" class="group-team-name">Pais 3</span>
      </div>
      <div class="group-team" style="top: 190.47px;">
        <img id="flagC4" class="group-flag" src="" alt="">
        <span id="C4" class="group-team-name">Pais 4</span>
      </div>
    </div>

    <div id="groupD" class="group-container">
      <div class="group-box"></div>
      <div id="headerD" class="group-header">Grupo D</div>
      <div class="group-team" style="top: 55.53px;">
        <img id="flagD1" class="group-flag" src="" alt="">
        <span id="D1" class="group-team-name">Pais 1</span>
      </div>
      <div class="group-team" style="top: 100.51px;">
        <img id="flagD2" class="group-flag" src="" alt="">
        <span id="D2" class="group-team-name">Pais 2</span>
      </div>
      <div class="group-team" style="top: 145.49px;">
        <img id="flagD3" class="group-flag" src="" alt="">
        <span id="D3" class="group-team-name">Pais 3</span>
      </div>
      <div class="group-team" style="top: 190.47px;">
        <img id="flagD4" class="group-flag" src="" alt="">
        <span id="D4" class="group-team-name">Pais 4</span>
      </div>
    </div>

    <div id="groupE" class="group-container">
      <div class="group-box"></div>
      <div id="headerE" class="group-header">Grupo E</div>
      <div class="group-team" style="top: 55.53px;">
        <img id="flagE1" class="group-flag" src="" alt="">
        <span id="E1" class="group-team-name">Pais 1</span>
      </div>
      <div class="group-team" style="top: 100.51px;">
        <img id="flagE2" class="group-flag" src="" alt="">
        <span id="E2" class="group-team-name">Pais 2</span>
      </div>
      <div class="group-team" style="top: 145.49px;">
        <img id="flagE3" class="group-flag" src="" alt="">
        <span id="E3" class="group-team-name">Pais 3</span>
      </div>
      <div class="group-team" style="top: 190.47px;">
        <img id="flagE4" class="group-flag" src="" alt="">
        <span id="E4" class="group-team-name">Pais 4</span>
      </div>
    </div>

    <div id="groupF" class="group-container">
      <div class="group-box"></div>
      <div id="headerF" class="group-header">Grupo F</div>
      <div class="group-team" style="top: 55.53px;">
        <img id="flagF1" class="group-flag" src="" alt="">
        <span id="F1" class="group-team-name">Pais 1</span>
      </div>
      <div class="group-team" style="top: 100.51px;">
        <img id="flagF2" class="group-flag" src="" alt="">
        <span id="F2" class="group-team-name">Pais 2</span>
      </div>
      <div class="group-team" style="top: 145.49px;">
        <img id="flagF3" class="group-flag" src="" alt="">
        <span id="F3" class="group-team-name">Pais 3</span>
      </div>
      <div class="group-team" style="top: 190.47px;">
        <img id="flagF4" class="group-flag" src="" alt="">
        <span id="F4" class="group-team-name">Pais 4</span>
      </div>
    </div>

    <div id="groupG" class="group-container">
      <div class="group-box"></div>
      <div id="headerG" class="group-header">Grupo G</div>
      <div class="group-team" style="top: 55.53px;">
        <img id="flagG1" class="group-flag" src="" alt="">
        <span id="G1" class="group-team-name">Pais 1</span>
      </div>
      <div class="group-team" style="top: 100.51px;">
        <img id="flagG2" class="group-flag" src="" alt="">
        <span id="G2" class="group-team-name">Pais 2</span>
      </div>
      <div class="group-team" style="top: 145.49px;">
        <img id="flagG3" class="group-flag" src="" alt="">
        <span id="G3" class="group-team-name">Pais 3</span>
      </div>
      <div class="group-team" style="top: 190.47px;">
        <img id="flagG4" class="group-flag" src="" alt="">
        <span id="G4" class="group-team-name">Pais 4</span>
      </div>
    </div>

    <div id="groupH" class="group-container">
      <div class="group-box"></div>
      <div id="headerH" class="group-header">Grupo H</div>
      <div class="group-team" style="top: 55.53px;">
        <img id="flagH1" class="group-flag" src="" alt="">
        <span id="H1" class="group-team-name">Pais 1</span>
      </div>
      <div class="group-team" style="top: 100.51px;">
        <img id="flagH2" class="group-flag" src="" alt="">
        <span id="H2" class="group-team-name">Pais 2</span>
      </div>
      <div class="group-team" style="top: 145.49px;">
        <img id="flagH3" class="group-flag" src="" alt="">
        <span id="H3" class="group-team-name">Pais 3</span>
      </div>
      <div class="group-team" style="top: 190.47px;">
        <img id="flagH4" class="group-flag" src="" alt="">
        <span id="H4" class="group-team-name">Pais 4</span>
      </div>
    </div>

    <div id="groupI" class="group-container">
      <div class="group-box"></div>
      <div id="headerI" class="group-header">Grupo I</div>
      <div class="group-team" style="top: 55.53px;">
        <img id="flagI1" class="group-flag" src="" alt="">
        <span id="I1" class="group-team-name">Pais 1</span>
      </div>
      <div class="group-team" style="top: 100.51px;">
        <img id="flagI2" class="group-flag" src="" alt="">
        <span id="I2" class="group-team-name">Pais 2</span>
      </div>
      <div class="group-team" style="top: 145.49px;">
        <img id="flagI3" class="group-flag" src="" alt="">
        <span id="I3" class="group-team-name">Pais 3</span>
      </div>
      <div class="group-team" style="top: 190.47px;">
        <img id="flagI4" class="group-flag" src="" alt="">
        <span id="I4" class="group-team-name">Pais 4</span>
      </div>
    </div>

    <div id="groupJ" class="group-container">
      <div class="group-box"></div>
      <div id="headerJ" class="group-header">Grupo J</div>
      <div class="group-team" style="top: 55.53px;">
        <img id="flagJ1" class="group-flag" src="" alt="">
        <span id="J1" class="group-team-name">Pais 1</span>
      </div>
      <div class="group-team" style="top: 100.51px;">
        <img id="flagJ2" class="group-flag" src="" alt="">
        <span id="J2" class="group-team-name">Pais 2</span>
      </div>
      <div class="group-team" style="top: 145.49px;">
        <img id="flagJ3" class="group-flag" src="" alt="">
        <span id="J3" class="group-team-name">Pais 3</span>
      </div>
      <div class="group-team" style="top: 190.47px;">
        <img id="flagJ4" class="group-flag" src="" alt="">
        <span id="J4" class="group-team-name">Pais 4</span>
      </div>
    </div>

    <div id="groupK" class="group-container">
      <div class="group-box"></div>
      <div id="headerK" class="group-header">Grupo K</div>
      <div class="group-team" style="top: 55.53px;">
        <img id="flagK1" class="group-flag" src="" alt="">
        <span id="K1" class="group-team-name">Pais 1</span>
      </div>
      <div class="group-team" style="top: 100.51px;">
        <img id="flagK2" class="group-flag" src="" alt="">
        <span id="K2" class="group-team-name">Pais 2</span>
      </div>
      <div class="group-team" style="top: 145.49px;">
        <img id="flagK3" class="group-flag" src="" alt="">
        <span id="K3" class="group-team-name">Pais 3</span>
      </div>
      <div class="group-team" style="top: 190.47px;">
        <img id="flagK4" class="group-flag" src="" alt="">
        <span id="K4" class="group-team-name">Pais 4</span>
      </div>
    </div>

    <div id="groupL" class="group-container">
      <div class="group-box"></div>
      <div id="headerL" class="group-header">Grupo L</div>
      <div class="group-team" style="top: 55.53px;">
        <img id="flagL1" class="group-flag" src="" alt="">
        <span id="L1" class="group-team-name">Pais 1</span>
      </div>
      <div class="group-team" style="top: 100.51px;">
        <img id="flagL2" class="group-flag" src="" alt="">
        <span id="L2" class="group-team-name">Pais 2</span>
      </div>
      <div class="group-team" style="top: 145.49px;">
        <img id="flagL3" class="group-flag" src="" alt="">
        <span id="L3" class="group-team-name">Pais 3</span>
      </div>
      <div class="group-team" style="top: 190.47px;">
        <img id="flagL4" class="group-flag" src="" alt="">
        <span id="L4" class="group-team-name">Pais 4</span>
      </div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script>
    const countryToCode = {
      "Alemania": "de", "A. Saudita": "sa", "Argelia": "dz", "Argentina": "ar", "Australia": "au",
      "Austria": "at", "Bélgica": "be", "Brasil": "br", "Cabo Verde": "cv", "Canadá": "ca",
      "Catar": "qa", "Colombia": "co", "Costa de Marfil": "ci", "Croacia": "hr", "Curazao": "cw",
      "Ecuador": "ec", "Egipto": "eg", "Escocia": "gb-sct", "España": "es", "Estados Unidos": "us",
      "Francia": "fr", "Ghana": "gh", "Haití": "ht", "Inglaterra": "gb-eng", "Irán": "ir",
      "Japón": "jp", "Jordania": "jo", "Marruecos": "ma", "México": "mx", "Noruega": "no",
      "Nueva Zelanda": "nz", "Países Bajos": "nl", "Panamá": "pa", "Paraguay": "py", "Portugal": "pt",
      "República de Corea": "kr", "Senegal": "sn", "Sudáfrica": "za", "Suiza": "ch", "Túnez": "tn",
      "Uruguay": "uy", "Uzbekistán": "uz", "Corea del Sur": "kr",
      "R. EUROPA 1": "fifa", "R. EUROPA 2": "fifa", "R. EUROPA 3": "fifa", "R. EUROPA 4": "fifa",
      "R. INTERCONT 1": "fifa", "R. INTERCONT 2": "fifa",
      "Repechaje Europeo 1": "fifa", "Repechaje Europeo 2": "fifa", "Repechaje Europeo 3": "fifa", "Repechaje Europeo 4": "fifa",
      "Repechaje Intercontinental 1": "fifa", "Repechaje Intercontinental 2": "fifa"
    };

    const bombos = {
      1: ["España", "Argentina", "Francia", "Inglaterra", "Brasil", "Portugal", "Países Bajos", "Bélgica", "Alemania", "Estados Unidos", "México", "Canadá"],
      2: ["Croacia", "Marruecos", "Colombia", "Uruguay", "Suiza", "Japón", "Senegal", "Irán", "República de Corea", "Ecuador", "Austria", "Australia"],
      3: ["Noruega", "Panamá", "Egipto", "Argelia", "Escocia", "Paraguay", "Túnez", "Costa de Marfil", "Uzbekistán", "Catar", "A. Saudita", "Sudáfrica"],
      4: ["Jordania", "Cabo Verde", "Ghana", "Curazao", "Haití", "Nueva Zelanda", "Repechaje Europeo 1", "Repechaje Europeo 2", "Repechaje Europeo 3", "Repechaje Europeo 4", "Repechaje Intercontinental 1", "Repechaje Intercontinental 2"]
    };

    const bomboFlagOffset = {x: -1, y: -1};

    const countryDisplayAliases = {
      "República de Corea": "R. De Corea",
      "Estados Unidos": "EE.UU.",
      "Costa de Marfil": "C. De Marfil",
      "Nueva Zelanda": "N. Zelanda",
      "R. INTERCONT 1": "R. INTER 1",
      "R. INTERCONT 2": "R. INTER 2",
      "México": "Mexico"
    };

    const countryAbbreviations = {
      "República de Corea": "R. Corea",
      "Estados Unidos": "EE.UU.",
      "Costa de Marfil": "C. Marfil",
      "Nueva Zelanda": "N. Zelanda",
      "Países Bajos": "P. Bajos",
      "A. Saudita": "Arabia S.",
      "Repechaje Europeo 1": "R. EUR 1",
      "Repechaje Europeo 2": "R. EUR 2",
      "Repechaje Europeo 3": "R. EUR 3",
      "Repechaje Europeo 4": "R. EUR 4",
      "Repechaje Intercontinental 1": "R. INT 1",
      "Repechaje Intercontinental 2": "R. INT 2",
      "R. EUROPA 1": "R. EUR 1",
      "R. EUROPA 2": "R. EUR 2",
      "R. EUROPA 3": "R. EUR 3",
      "R. EUROPA 4": "R. EUR 4",
      "R. INTERCONT 1": "R. INT 1",
      "R. INTERCONT 2": "R. INT 2"
    };

    let currentBombo = 1;
    let assignedTeams = [];
    let drawnGroups = {};

    function getFlagUrl(country) {
      const code = countryToCode[country] || "fifa";
      return `/w2560/${code}.png`;
    }

    function updateBomboDisplay(bomboNumber) {
      const bomboTeams = bombos[bomboNumber] || [];
      const suffix = bomboNumber === 1 ? "" : `-b${bomboNumber}`;
      
      for (let i = 0; i < 12; i++) {
        const country = bomboTeams[i] || "";
        const flagElement = document.getElementById(`bombo-flag-${i}${suffix}`);
        const teamElement = document.getElementById(`bombo-team-${i}${suffix}`);
        
        if (flagElement && teamElement) {
          if (country) {
            flagElement.src = getFlagUrl(country);
            teamElement.textContent = countryAbbreviations[country] || country;
            
            if (assignedTeams.includes(country)) {
              flagElement.classList.add('assigned-flag');
              teamElement.classList.add('assigned-text');
            } else {
              flagElement.classList.remove('assigned-flag');
              teamElement.classList.remove('assigned-text');
            }
          } else {
            flagElement.src = "/w2560/inc.png";
            teamElement.textContent = "";
          }
        }
      }
    }

    function switchBombo(newBombo) {
      if (newBombo < 1 || newBombo > 4 || newBombo === currentBombo) return;
      
      const oldContainer = document.getElementById(`bombo-container-${currentBombo}`);
      const newContainer = document.getElementById(`bombo-container-${newBombo}`);
      
      if (oldContainer && newContainer) {
        oldContainer.classList.add('fade-out');
        
        setTimeout(() => {
          oldContainer.style.display = 'none';
          oldContainer.classList.remove('fade-out');
          
          newContainer.style.display = 'block';
          newContainer.style.opacity = '0';
          
          setTimeout(() => {
            newContainer.classList.add('fade-in');
            newContainer.style.opacity = '1';
          }, 50);
          
          currentBombo = newBombo;
          updateBomboDisplay(currentBombo);
        }, 400);
      }
    }

    function highlightCountry(country) {
      const bomboNumber = currentBombo;
      const bomboTeams = bombos[bomboNumber] || [];
      const index = bomboTeams.indexOf(country);
      
      if (index === -1) return;
      
      const suffix = bomboNumber === 1 ? "" : `-b${bomboNumber}`;
      const highlightElement = document.getElementById(`country-highlight-${index}${suffix}`);
      
      if (highlightElement) {
        highlightElement.style.opacity = '1';
        
        setTimeout(() => {
          highlightElement.style.opacity = '0';
        }, 2000);
      }
    }

    function showFeaturedCountry(country) {
      const featuredContainer = document.getElementById(`featured-country-${currentBombo}`);
      const featuredFlag = document.getElementById(`featured-flag-${currentBombo}`);
      const featuredText = document.getElementById(`featured-text-${currentBombo}`);
      
      if (featuredContainer && featuredFlag && featuredText) {
        featuredFlag.src = getFlagUrl(country);
        featuredText.textContent = countryAbbreviations[country] || country;
        featuredContainer.style.opacity = '1';
        
        setTimeout(() => {
          featuredContainer.style.opacity = '0';
        }, 3000);
      }
    }

    function updateGroupDisplay(group, position, country) {
      const flagElement = document.getElementById(`flag${group}${position}`);
      const teamElement = document.getElementById(`${group}${position}`);
      
      if (flagElement && teamElement) {
        flagElement.src = getFlagUrl(country);
        teamElement.textContent = countryDisplayAliases[country] || country;
      }
    }

    const socket = io();
    
    socket.on('connect', () => {
      console.log('Conectado al servidor');
      socket.emit('requestState');
    });

    socket.on('disconnect', () => {
      console.log('Desconectado del servidor');
    });

    socket.on('bomboChanged', (data) => {
      console.log('Bombo cambiado:', data.bombo);
      switchBombo(data.bombo);
    });

    socket.on('countryHighlight', (data) => {
      console.log('País resaltado:', data.country);
      highlightCountry(data.country);
    });

    socket.on('countryFeatured', (data) => {
      console.log('País destacado:', data.country);
      showFeaturedCountry(data.country);
    });

    socket.on('teamAssigned', (data) => {
      console.log('Equipo asignado:', data);
      if (!assignedTeams.includes(data.country)) {
        assignedTeams.push(data.country);
      }
      
      if (!drawnGroups[data.group]) {
        drawnGroups[data.group] = [];
      }
      drawnGroups[data.group].push(data.country);
      
      updateGroupDisplay(data.group, data.position, data.country);
      updateBomboDisplay(currentBombo);
    });

    socket.on('fullState', (state) => {
      console.log('Estado completo recibido:', state);
      currentBombo = state.currentBombo || 1;
      assignedTeams = state.assignedTeams || [];
      drawnGroups = state.groups || {};
      
      for (const group in drawnGroups) {
        drawnGroups[group].forEach((country, index) => {
          updateGroupDisplay(group, index + 1, country);
        });
      }
      
      updateBomboDisplay(currentBombo);
      
      for (let i = 1; i <= 4; i++) {
        const container = document.getElementById(`bombo-container-${i}`);
        if (container) {
          container.style.display = i === currentBombo ? 'block' : 'none';
        }
      }
    });

    socket.on('drawReset', () => {
      console.log('Sorteo reiniciado');
      assignedTeams = [];
      drawnGroups = {};
      currentBombo = 1;
      
      const groups = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L'];
      groups.forEach(group => {
        for (let i = 1; i <= 4; i++) {
          updateGroupDisplay(group, i, `Pais ${i}`);
        }
      });
      
      updateBomboDisplay(currentBombo);
      
      for (let i = 1; i <= 4; i++) {
        const container = document.getElementById(`bombo-container-${i}`);
        if (container) {
          container.style.display = i === 1 ? 'block' : 'none';
        }
      }
    });

    window.addEventListener('load', () => {
      setTimeout(() => {
        document.getElementById('loading-screen').classList.add('hidden');
        document.getElementById('main-container').classList.add('loaded');
        updateBomboDisplay(1);
      }, 500);
    });
  </script>
</body>
</html>
