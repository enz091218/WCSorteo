<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Overlay 3 - Disposición Vertical (3×4)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    @font-face {
      font-family: 'Moderniz';
      src: url('/fuente/Moderniz.otf') format('opentype');
    }

    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      width: 100%;
      height: 100%;
      background: transparent;
    }
    body {
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* Panel de controles */
    #controls-panel {
      position: fixed;
      top: 10px;
      left: 10px;
      background: rgba(0, 0, 0, 0.9);
      color: white;
      padding: 15px;
      border-radius: 8px;
      max-height: 90vh;
      overflow-y: auto;
      z-index: 10000;
      font-family: 'Poppins', Arial, sans-serif;
      font-size: 12px;
      display: none; /* Oculto por defecto */
    }
    #controls-panel.show {
      display: block;
    }
    #controls-panel h3 {
      margin: 0 0 10px 0;
      font-size: 14px;
      color: #00d9ff;
    }
    .control-group {
      margin-bottom: 15px;
      padding: 10px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 4px;
    }
    .control-group h4 {
      margin: 0 0 8px 0;
      font-size: 13px;
      color: #fff;
    }
    .control-row {
      display: grid;
      grid-template-columns: 40px 1fr 40px 1fr;
      gap: 5px;
      margin-bottom: 5px;
      align-items: center;
    }
    .control-row label {
      font-size: 11px;
      color: #ccc;
    }
    .control-row input {
      width: 100%;
      padding: 3px 5px;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: white;
      border-radius: 3px;
      font-size: 11px;
    }
    #toggle-controls {
      position: fixed;
      top: 10px;
      right: 10px;
      background: #00d9ff;
      color: #000;
      border: none;
      padding: 8px 15px;
      border-radius: 5px;
      cursor: pointer;
      z-index: 10001;
      font-weight: 600;
      font-size: 12px;
    }
    #toggle-controls:hover {
      background: #00b8d4;
    }
    svg {
      display: block;
      max-width: 100vw;
      max-height: 100vh;
      width: auto;
      height: auto;
      aspect-ratio: 16 / 9;
      opacity: 0;
      transition: opacity 0.8s ease-in-out;
    }
    svg.loaded {
      opacity: 1;
    }
    @supports not (aspect-ratio: 16 / 9) {
      svg {
        width: 100vw;
        height: 56.25vw;
        max-height: 100vh;
        max-width: 177.78vh;
      }
    }

    #loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.5s ease-in-out, visibility 0.5s ease-in-out;
    }
    #loading-screen.hidden {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
    }

    image.assigned-flag {
      filter: grayscale(100%) opacity(0.5);
    }

    .assigned-text {
      fill: #888888 !important;
      opacity: 0.5;
    }

    /* Animación de fade para cambio entre bombos */
    .bombo-container {
      transition: opacity 0.4s ease-in-out;
    }
    
    .bombo-container.fade-out {
      opacity: 0;
    }
    
    .bombo-container.fade-in {
      opacity: 1;
    }

    .loading-text {
      color: #fff;
      font-family: 'Moderniz', Arial, sans-serif;
      font-size: 24px;
      margin-bottom: 20px;
    }
    .loading-spinner {
      width: 50px;
      height: 50px;
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-top-color: #fff;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    .loading-progress {
      color: #fff;
      font-family: 'Moderniz', Arial, sans-serif;
      font-size: 16px;
      margin-top: 20px;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    @keyframes slideIn {
      from {
        transform: translateX(-30px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    .flag-image {
      width: 51.4px;
      height: 34.2px;
    }
    image[id^="flag"] {
      border-radius: 12.51px;
    }
  </style>
</head>
<body>
  <!-- Botón para mostrar/ocultar controles -->
  <button id="toggle-controls" onclick="toggleControls()">⚙️ Controles</button>

  <!-- Panel de controles manuales -->
  <div id="controls-panel">
    <h3>Ajustes Manuales de Posición y Escala</h3>
    
    <!-- Controles para Grupos A-L -->
    <div class="control-group" id="groups-controls"></div>
    
    <!-- Controles para Bombos 1-4 -->
    <div class="control-group" id="bombos-controls"></div>
  </div>

  <div id="loading-screen">
    <div class="loading-text">Cargando transmisión...</div>
    <div class="loading-spinner"></div>
    <div class="loading-progress" id="loading-progress">0%</div>
  </div>
  
  <svg id="Capa_1" data-name="Capa 1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1920 1080">
    <defs id="svg-defs">
      <style>
        .cls-7 { font-size: 14px; }
        .cls-7, .cls-8 { font-family: 'Moderniz', Arial, sans-serif; }
        .cls-17 { fill: transparent; }
        .cls-20 { letter-spacing: -.03em; }
        .cls-22, .cls-8 { fill: #fff; }
        .cls-23 { letter-spacing: -.06em; }
        .cls-43 { letter-spacing: -.18em; }
        .cls-8 { font-size: 16.05px; }
        .cls-56 { fill: none; stroke: none; stroke-miterlimit: 10; }
        .cls-57 { letter-spacing: -.11em; }
      </style>
      <clipPath id="flag-rounded-bombo" clipPathUnits="userSpaceOnUse">
        <rect x="0" y="0" width="48" height="32" rx="12" ry="8"/>
      </clipPath>
      <clipPath id="flag-rounded-groups" clipPathUnits="userSpaceOnUse">
        <rect x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3"/>
      </clipPath>
    </defs>
    <rect class="cls-17" width="1920" height="1080"/>
    <!-- Bombo 1 -->
    <g id="bombo-container-1" class="bombo-container" opacity="1">
      <path class="cls-22" d="M194.58,254.73h474.83v169.3c0,20.51-16.65,37.16-37.16,37.16H194.58v-206.47h0Z" fill="#e8e8e8"/>
      <path d="M232.7,216.61h398.58c21.04,0,38.12,17.08,38.12,38.12H194.58c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/>
      <text class="cls-8" id="bombo-title-1" transform="translate(366.47 242.41)"><tspan x="0" y="0">BOMBO 1</tspan></text>
      
      <!-- Columna 1 -->
      <rect id="country-highlight-0" x="217" y="270" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-0" transform="translate(222 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-0" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-0" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-0" transform="translate(277 297)" style="fill: #000;"></text>
      <rect id="country-highlight-1" x="217" y="312" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-1" transform="translate(222 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-1" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-1" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-1" transform="translate(277 339)" style="fill: #000;"></text>
      <rect id="country-highlight-2" x="217" y="354" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-2" transform="translate(222 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-2" transform="translate(277 381)" style="fill: #000;"></text>
      <rect id="country-highlight-3" x="217" y="396" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-3" transform="translate(222 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-3" transform="translate(277 423)" style="fill: #000;"></text>
      
      <!-- Columna 2 -->
      <rect id="country-highlight-4" x="372" y="270" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-4" transform="translate(377 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-4" transform="translate(432 297)" style="fill: #000;"></text>
      <rect id="country-highlight-5" x="372" y="312" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-5" transform="translate(377 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-5" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-5" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-5" transform="translate(432 339)" style="fill: #000;"></text>
      <rect id="country-highlight-6" x="372" y="354" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-6" transform="translate(377 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-6" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-6" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-6" transform="translate(432 381)" style="fill: #000;"></text>
      <rect id="country-highlight-7" x="372" y="396" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-7" transform="translate(377 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-7" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-7" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-7" transform="translate(432 423)" style="fill: #000;"></text>
      
      <!-- Columna 3 -->
      <rect id="country-highlight-8" x="527" y="270" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-8" transform="translate(532 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-8" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-8" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-8" transform="translate(587 297)" style="fill: #000;"></text>
      <rect id="country-highlight-9" x="527" y="312" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-9" transform="translate(532 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-9" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-9" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-9" transform="translate(587 339)" style="fill: #000;"></text>
      <rect id="country-highlight-10" x="527" y="354" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-10" transform="translate(532 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-10" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-10" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-10" transform="translate(587 381)" style="fill: #000;"></text>
      <rect id="country-highlight-11" x="527" y="396" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-11" transform="translate(532 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-11" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-11" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-11" transform="translate(587 423)" style="fill: #000;"></text>
    </g>
    
    <!-- Bombo 2 -->
    <g id="bombo-container-2" class="bombo-container" opacity="1" style="display:none;">
      <path class="cls-22" d="M194.58,254.73h474.83v169.3c0,20.51-16.65,37.16-37.16,37.16H194.58v-206.47h0Z" fill="#e8e8e8"/>
      <path d="M232.7,216.61h398.58c21.04,0,38.12,17.08,38.12,38.12H194.58c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/>
      <text class="cls-8" id="bombo-title-2" transform="translate(366.47 242.41)"><tspan x="0" y="0">BOMBO 2</tspan></text>
      <rect id="country-highlight-0-b2" x="217" y="270" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-0-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-0-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-0-b2" transform="translate(277 297)" style="fill: #000;"></text>
      <rect id="country-highlight-1-b2" x="217" y="312" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-1-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-1-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-1-b2" transform="translate(277 339)" style="fill: #000;"></text>
      <rect id="country-highlight-2-b2" x="217" y="354" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-2-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-2-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-2-b2" transform="translate(277 381)" style="fill: #000;"></text>
      <rect id="country-highlight-3-b2" x="217" y="396" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-3-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-3-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-3-b2" transform="translate(277 423)" style="fill: #000;"></text>
      <rect id="country-highlight-4-b2" x="372" y="270" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-4-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-4-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-4-b2" transform="translate(432 297)" style="fill: #000;"></text>
      <rect id="country-highlight-5-b2" x="372" y="312" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-5-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-5-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-5-b2" transform="translate(432 339)" style="fill: #000;"></text>
      <rect id="country-highlight-6-b2" x="372" y="354" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-6-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-6-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-6-b2" transform="translate(432 381)" style="fill: #000;"></text>
      <rect id="country-highlight-7-b2" x="372" y="396" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-7-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-7-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-7-b2" transform="translate(432 423)" style="fill: #000;"></text>
      <rect id="country-highlight-8-b2" x="527" y="270" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-8-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-8-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-8-b2" transform="translate(587 297)" style="fill: #000;"></text>
      <rect id="country-highlight-9-b2" x="527" y="312" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-9-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-9-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-9-b2" transform="translate(587 339)" style="fill: #000;"></text>
      <rect id="country-highlight-10-b2" x="527" y="354" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-10-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-10-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-10-b2" transform="translate(587 381)" style="fill: #000;"></text>
      <rect id="country-highlight-11-b2" x="527" y="396" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-11-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-11-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-11-b2" transform="translate(587 423)" style="fill: #000;"></text>
    </g>
    
    <!-- Bombo 3 -->
    <g id="bombo-container-3" class="bombo-container" opacity="1" style="display:none;">
      <path class="cls-22" d="M194.58,254.73h474.83v169.3c0,20.51-16.65,37.16-37.16,37.16H194.58v-206.47h0Z" fill="#e8e8e8"/>
      <path d="M232.7,216.61h398.58c21.04,0,38.12,17.08,38.12,38.12H194.58c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/>
      <text class="cls-8" id="bombo-title-3" transform="translate(366.47 242.41)"><tspan x="0" y="0">BOMBO 3</tspan></text>
      <rect id="country-highlight-0-b3" x="217" y="270" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-0-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-0-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-0-b3" transform="translate(277 297)" style="fill: #000;"></text>
      <rect id="country-highlight-1-b3" x="217" y="312" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-1-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-1-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-1-b3" transform="translate(277 339)" style="fill: #000;"></text>
      <rect id="country-highlight-2-b3" x="217" y="354" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-2-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-2-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-2-b3" transform="translate(277 381)" style="fill: #000;"></text>
      <rect id="country-highlight-3-b3" x="217" y="396" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-3-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-3-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-3-b3" transform="translate(277 423)" style="fill: #000;"></text>
      <rect id="country-highlight-4-b3" x="372" y="270" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-4-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-4-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-4-b3" transform="translate(432 297)" style="fill: #000;"></text>
      <rect id="country-highlight-5-b3" x="372" y="312" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-5-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-5-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-5-b3" transform="translate(432 339)" style="fill: #000;"></text>
      <rect id="country-highlight-6-b3" x="372" y="354" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-6-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-6-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-6-b3" transform="translate(432 381)" style="fill: #000;"></text>
      <rect id="country-highlight-7-b3" x="372" y="396" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-7-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-7-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-7-b3" transform="translate(432 423)" style="fill: #000;"></text>
      <rect id="country-highlight-8-b3" x="527" y="270" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-8-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-8-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-8-b3" transform="translate(587 297)" style="fill: #000;"></text>
      <rect id="country-highlight-9-b3" x="527" y="312" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-9-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-9-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-9-b3" transform="translate(587 339)" style="fill: #000;"></text>
      <rect id="country-highlight-10-b3" x="527" y="354" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-10-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-10-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-10-b3" transform="translate(587 381)" style="fill: #000;"></text>
      <rect id="country-highlight-11-b3" x="527" y="396" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-11-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-11-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-11-b3" transform="translate(587 423)" style="fill: #000;"></text>
    </g>
    
    <!-- Bombo 4 -->
    <g id="bombo-container-4" class="bombo-container" opacity="1" style="display:none;">
      <path class="cls-22" d="M194.58,254.73h474.83v169.3c0,20.51-16.65,37.16-37.16,37.16H194.58v-206.47h0Z" fill="#e8e8e8"/>
      <path d="M232.7,216.61h398.58c21.04,0,38.12,17.08,38.12,38.12H194.58c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/>
      <text class="cls-8" id="bombo-title-4" transform="translate(366.47 242.41)"><tspan x="0" y="0">BOMBO 4</tspan></text>
      <rect id="country-highlight-0-b4" x="217" y="270" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-0-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-0-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-0-b4" transform="translate(277 297)" style="fill: #000;"></text>
      <rect id="country-highlight-1-b4" x="217" y="312" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-1-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-1-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-1-b4" transform="translate(277 339)" style="fill: #000;"></text>
      <rect id="country-highlight-2-b4" x="217" y="354" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-2-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-2-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-2-b4" transform="translate(277 381)" style="fill: #000;"></text>
      <rect id="country-highlight-3-b4" x="217" y="396" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-3-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-3-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-3-b4" transform="translate(277 423)" style="fill: #000;"></text>
      <rect id="country-highlight-4-b4" x="372" y="270" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-4-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-4-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-4-b4" transform="translate(432 297)" style="fill: #000;"></text>
      <rect id="country-highlight-5-b4" x="372" y="312" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-5-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-5-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-5-b4" transform="translate(432 339)" style="fill: #000;"></text>
      <rect id="country-highlight-6-b4" x="372" y="354" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-6-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-6-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-6-b4" transform="translate(432 381)" style="fill: #000;"></text>
      <rect id="country-highlight-7-b4" x="372" y="396" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-7-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-7-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-7-b4" transform="translate(432 423)" style="fill: #000;"></text>
      <rect id="country-highlight-8-b4" x="527" y="270" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-8-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-8-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-8-b4" transform="translate(587 297)" style="fill: #000;"></text>
      <rect id="country-highlight-9-b4" x="527" y="312" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-9-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-9-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-9-b4" transform="translate(587 339)" style="fill: #000;"></text>
      <rect id="country-highlight-10-b4" x="527" y="354" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-10-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-10-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-10-b4" transform="translate(587 381)" style="fill: #000;"></text>
      <rect id="country-highlight-11-b4" x="527" y="396" width="58" height="42" rx="8" ry="8" fill="gold" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-11-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-11-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-11-b4" transform="translate(587 423)" style="fill: #000;"></text>
    </g>
    
    <g><path class="cls-22" d="M194.58,573.87h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path id="headerA" d="M232.7,535.74h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(263.7 561.54)"><tspan>Grupo A</tspan></text><g transform="translate(210.63 591.27)" clip-path="url(#flag-rounded-groups)"><image id="flagA1" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagA1" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="A1" transform="translate(272.65 613.48)">Pais 1</text><g transform="translate(210.63 636.25)" clip-path="url(#flag-rounded-groups)"><image id="flagA2" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagA2" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="A2" transform="translate(272.65 658.46)">Pais 2</text><g transform="translate(210.63 681.23)" clip-path="url(#flag-rounded-groups)"><image id="flagA3" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagA3" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="A3" transform="translate(272.65 703.44)">Pais 3</text><g transform="translate(210.63 726.2)" clip-path="url(#flag-rounded-groups)"><image id="flagA4" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagA4" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="A4" transform="translate(272.65 748.41)">Pais 4</text></g>
    <g><path class="cls-22" d="M455.44,573.87h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path id="headerB" d="M493.56,535.74h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(521.84 561.54)"><tspan>Grupo B</tspan></text><g transform="translate(471.49 591.27)" clip-path="url(#flag-rounded-groups)"><image id="flagB1" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagB1" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="B1" transform="translate(533.51 613.48)">Pais 1</text><g transform="translate(471.49 636.25)" clip-path="url(#flag-rounded-groups)"><image id="flagB2" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagB2" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="B2" transform="translate(533.51 658.46)">Pais 2</text><g transform="translate(471.49 681.23)" clip-path="url(#flag-rounded-groups)"><image id="flagB3" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagB3" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="B3" transform="translate(533.51 703.44)">Pais 3</text><g transform="translate(471.49 726.2)" clip-path="url(#flag-rounded-groups)"><image id="flagB4" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagB4" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="B4" transform="translate(533.51 748.41)">Pais 4</text></g>
    <g><path class="cls-22" d="M716.3,573.87h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path id="headerC" d="M754.42,535.74h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(782.55 561.54)"><tspan>Grupo C</tspan></text><g transform="translate(732.35 591.27)" clip-path="url(#flag-rounded-groups)"><image id="flagC1" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagC1" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="C1" transform="translate(794.37 613.48)">Pais 1</text><g transform="translate(732.35 636.25)" clip-path="url(#flag-rounded-groups)"><image id="flagC2" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagC2" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="C2" transform="translate(794.37 658.46)">Pais 2</text><g transform="translate(732.35 681.23)" clip-path="url(#flag-rounded-groups)"><image id="flagC3" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagC3" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="C3" transform="translate(794.37 703.44)">Pais 3</text><g transform="translate(732.35 726.2)" clip-path="url(#flag-rounded-groups)"><image id="flagC4" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagC4" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="C4" transform="translate(794.37 748.41)">Pais 4</text></g>
    <g><path class="cls-22" d="M977.16,573.87h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path id="headerD" d="M1015.28,535.74h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(1043.22 561.54)"><tspan>Grupo D</tspan></text><g transform="translate(993.21 591.27)" clip-path="url(#flag-rounded-groups)"><image id="flagD1" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagD1" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="D1" transform="translate(1055.23 613.48)">Pais 1</text><g transform="translate(993.21 636.25)" clip-path="url(#flag-rounded-groups)"><image id="flagD2" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagD2" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="D2" transform="translate(1055.23 658.46)">Pais 2</text><g transform="translate(993.21 681.23)" clip-path="url(#flag-rounded-groups)"><image id="flagD3" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagD3" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="D3" transform="translate(1055.23 703.44)">Pais 3</text><g transform="translate(993.21 726.2)" clip-path="url(#flag-rounded-groups)"><image id="flagD4" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagD4" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="D4" transform="translate(1055.23 748.41)">Pais 4</text></g>
    <g><path class="cls-22" d="M1238.02,573.87h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path id="headerE" d="M1276.14,535.74h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(1304.4 561.54)"><tspan>Grupo E</tspan></text><g transform="translate(1254.07 591.27)" clip-path="url(#flag-rounded-groups)"><image id="flagE1" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagE1" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="E1" transform="translate(1316.09 613.48)">Pais 1</text><g transform="translate(1254.07 636.25)" clip-path="url(#flag-rounded-groups)"><image id="flagE2" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagE2" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="E2" transform="translate(1316.09 658.46)">Pais 2</text><g transform="translate(1254.07 681.23)" clip-path="url(#flag-rounded-groups)"><image id="flagE3" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagE3" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="E3" transform="translate(1316.09 703.44)">Pais 3</text><g transform="translate(1254.07 726.2)" clip-path="url(#flag-rounded-groups)"><image id="flagE4" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagE4" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="E4" transform="translate(1316.09 748.41)">Pais 4</text></g>
    <g><path class="cls-22" d="M1498.88,573.87h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path id="headerF" d="M1537,535.74h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(1565.12 561.54)"><tspan>Grupo F</tspan></text><g transform="translate(1514.93 591.27)" clip-path="url(#flag-rounded-groups)"><image id="flagF1" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagF1" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="F1" transform="translate(1576.95 613.48)">Pais 1</text><g transform="translate(1514.93 636.25)" clip-path="url(#flag-rounded-groups)"><image id="flagF2" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagF2" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="F2" transform="translate(1576.95 658.46)">Pais 2</text><g transform="translate(1514.93 681.23)" clip-path="url(#flag-rounded-groups)"><image id="flagF3" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagF3" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="F3" transform="translate(1576.95 703.44)">Pais 3</text><g transform="translate(1514.93 726.2)" clip-path="url(#flag-rounded-groups)"><image id="flagF4" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagF4" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="F4" transform="translate(1576.95 748.41)">Pais 4</text></g>
    <g><path class="cls-22" d="M194.58,839.06h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path id="headerG" d="M232.7,800.94h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(261.87 826.74)"><tspan>Grupo G</tspan></text><g transform="translate(210.63 856.47)" clip-path="url(#flag-rounded-groups)"><image id="flagG1" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagG1" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="G1" transform="translate(272.65 878.68)">Pais 1</text><g transform="translate(210.63 901.44)" clip-path="url(#flag-rounded-groups)"><image id="flagG2" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagG2" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="G2" transform="translate(272.65 923.65)">Pais 2</text><g transform="translate(210.63 946.42)" clip-path="url(#flag-rounded-groups)"><image id="flagG3" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagG3" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="G3" transform="translate(272.65 968.63)">Pais 3</text><g transform="translate(210.63 991.4)" clip-path="url(#flag-rounded-groups)"><image id="flagG4" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagG4" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="G4" transform="translate(272.65 1013.61)">Pais 4</text></g>
    <g><path class="cls-22" d="M455.44,839.06h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path id="headerH" d="M493.56,800.94h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(521.44 826.74)"><tspan>Grupo H</tspan></text><g transform="translate(471.49 856.47)" clip-path="url(#flag-rounded-groups)"><image id="flagH1" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagH1" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="H1" transform="translate(533.51 878.68)">Pais 1</text><g transform="translate(471.49 901.44)" clip-path="url(#flag-rounded-groups)"><image id="flagH2" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagH2" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="H2" transform="translate(533.51 923.65)">Pais 2</text><g transform="translate(471.49 946.42)" clip-path="url(#flag-rounded-groups)"><image id="flagH3" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagH3" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="H3" transform="translate(533.51 968.63)">Pais 3</text><g transform="translate(471.49 991.4)" clip-path="url(#flag-rounded-groups)"><image id="flagH4" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagH4" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="H4" transform="translate(533.51 1013.61)">Pais 4</text></g>
    <g><path class="cls-22" d="M716.3,839.06h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path id="headerI" d="M754.42,800.94h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(782.54 826.74)"><tspan>Grupo I</tspan></text><g transform="translate(732.35 856.47)" clip-path="url(#flag-rounded-groups)"><image id="flagI1" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagI1" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="I1" transform="translate(794.37 878.68)">Pais 1</text><g transform="translate(732.35 901.44)" clip-path="url(#flag-rounded-groups)"><image id="flagI2" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagI2" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="I2" transform="translate(794.37 923.65)">Pais 2</text><g transform="translate(732.35 946.42)" clip-path="url(#flag-rounded-groups)"><image id="flagI3" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagI3" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="I3" transform="translate(794.37 968.63)">Pais 3</text><g transform="translate(732.35 991.4)" clip-path="url(#flag-rounded-groups)"><image id="flagI4" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagI4" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="I4" transform="translate(794.37 1013.61)">Pais 4</text></g>
    <g><path class="cls-22" d="M977.16,839.06h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path id="headerJ" d="M1015.28,800.94h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(1043.22 826.74)"><tspan>Grupo J</tspan></text><g transform="translate(993.21 856.47)" clip-path="url(#flag-rounded-groups)"><image id="flagJ1" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagJ1" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="J1" transform="translate(1055.23 878.68)">Pais 1</text><g transform="translate(993.21 901.44)" clip-path="url(#flag-rounded-groups)"><image id="flagJ2" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagJ2" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="J2" transform="translate(1055.23 923.65)">Pais 2</text><g transform="translate(993.21 946.42)" clip-path="url(#flag-rounded-groups)"><image id="flagJ3" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagJ3" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="J3" transform="translate(1055.23 968.63)">Pais 3</text><g transform="translate(993.21 991.4)" clip-path="url(#flag-rounded-groups)"><image id="flagJ4" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagJ4" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="J4" transform="translate(1055.23 1013.61)">Pais 4</text></g>
    <g><path class="cls-22" d="M1238.02,839.06h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path id="headerK" d="M1276.14,800.94h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(1304.4 826.74)"><tspan>Grupo K</tspan></text><g transform="translate(1254.07 856.47)" clip-path="url(#flag-rounded-groups)"><image id="flagK1" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagK1" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="K1" transform="translate(1316.09 878.68)">Pais 1</text><g transform="translate(1254.07 901.44)" clip-path="url(#flag-rounded-groups)"><image id="flagK2" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagK2" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="K2" transform="translate(1316.09 923.65)">Pais 2</text><g transform="translate(1254.07 946.42)" clip-path="url(#flag-rounded-groups)"><image id="flagK3" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagK3" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="K3" transform="translate(1316.09 968.63)">Pais 3</text><g transform="translate(1254.07 991.4)" clip-path="url(#flag-rounded-groups)"><image id="flagK4" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagK4" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="K4" transform="translate(1316.09 1013.61)">Pais 4</text></g>
    <g><path class="cls-22" d="M1498.88,839.06h233.45v169.3c0,20.51-16.65,37.16-37.16,37.16h-196.29v-206.47h0Z"/><path id="headerL" d="M1537,800.94h157.21c21.04,0,38.12,17.08,38.12,38.12h-233.45c0-21.04,17.08-38.12,38.12-38.12Z" fill="#000"/><text class="cls-8" transform="translate(1560.92 826.74)"><tspan>Grupo L</tspan></text><g transform="translate(1514.93 856.47)" clip-path="url(#flag-rounded-groups)"><image id="flagL1" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagL1" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="L1" transform="translate(1576.95 878.68)">Pais 1</text><g transform="translate(1514.93 901.44)" clip-path="url(#flag-rounded-groups)"><image id="flagL2" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagL2" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="L2" transform="translate(1576.95 923.65)">Pais 2</text><g transform="translate(1514.93 946.42)" clip-path="url(#flag-rounded-groups)"><image id="flagL3" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagL3" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="L3" transform="translate(1576.95 968.63)">Pais 3</text><g transform="translate(1514.93 991.4)" clip-path="url(#flag-rounded-groups)"><image id="flagL4" x="0" y="0" width="51.4" height="34.2" href=""/><rect id="border-flagL4" x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-7" id="L4" transform="translate(1576.95 1013.61)">Pais 4</text></g>
  </svg>

  <script src="/socket.io/socket.io.js"></script>
  <script>
    const countryToCode = {
      "Alemania": "de", "A. Saudita": "sa", "Argelia": "dz", "Argentina": "ar", "Australia": "au",
      "Austria": "at", "Bélgica": "be", "Brasil": "br", "Cabo Verde": "cv", "Canadá": "ca",
      "Catar": "qa", "Colombia": "co", "Costa de Marfil": "ci", "Croacia": "hr", "Curazao": "cw",
      "Ecuador": "ec", "Egipto": "eg", "Escocia": "gb-sct", "España": "es", "Estados Unidos": "us",
      "Francia": "fr", "Ghana": "gh", "Haití": "ht", "Inglaterra": "gb-eng", "Irán": "ir",
      "Japón": "jp", "Jordania": "jo", "Marruecos": "ma", "México": "mx", "Noruega": "no",
      "Nueva Zelanda": "nz", "Países Bajos": "nl", "Panamá": "pa", "Paraguay": "py", "Portugal": "pt",
      "República de Corea": "kr", "Senegal": "sn", "Sudáfrica": "za", "Suiza": "ch", "Túnez": "tn",
      "Uruguay": "uy", "Uzbekistán": "uz", "Corea del Sur": "kr",
      "R. EUROPA 1": "fifa", "R. EUROPA 2": "fifa", "R. EUROPA 3": "fifa", "R. EUROPA 4": "fifa",
      "R. INTERCONT 1": "fifa", "R. INTERCONT 2": "fifa",
      "Repechaje Europeo 1": "fifa", "Repechaje Europeo 2": "fifa", "Repechaje Europeo 3": "fifa", "Repechaje Europeo 4": "fifa",
      "Repechaje Intercontinental 1": "fifa", "Repechaje Intercontinental 2": "fifa"
    };

    const bombos = {
      1: ["España", "Argentina", "Francia", "Inglaterra", "Brasil", "Portugal", "Países Bajos", "Bélgica", "Alemania", "Estados Unidos", "México", "Canadá"],
      2: ["Croacia", "Marruecos", "Colombia", "Uruguay", "Suiza", "Japón", "Senegal", "Irán", "República de Corea", "Ecuador", "Austria", "Australia"],
      3: ["Noruega", "Panamá", "Egipto", "Argelia", "Escocia", "Paraguay", "Túnez", "Costa de Marfil", "Uzbekistán", "Catar", "A. Saudita", "Sudáfrica"],
      4: ["Jordania", "Cabo Verde", "Ghana", "Curazao", "Haití", "Nueva Zelanda", "Repechaje Europeo 1", "Repechaje Europeo 2", "Repechaje Europeo 3", "Repechaje Europeo 4", "Repechaje Intercontinental 1", "Repechaje Intercontinental 2"]
    };

    // ======================================================================
    // CONFIGURACIÓN DE OFFSET PARA CENTRADO MANUAL DE BANDERAS DEL BOMBO
    // ======================================================================
    // Ajusta los valores de x e y para mover TODAS las banderas del bombo.
    // Este offset se aplica a las 12 banderas por igual.
    // Valores positivos mueven las banderas hacia la derecha (+x) y abajo (+y).
    // Valores negativos mueven las banderas hacia la izquierda (-x) y arriba (-y).
    //
    // Ejemplo: Para mover todas las banderas 2px a la derecha y 1px arriba:
    //   bomboFlagOffset = {x: 2, y: -1}
    // ======================================================================
    const bomboFlagOffset = {x: -1, y: -1};

    // ======================================================================
    // ALIAS DE NOMBRES PARA MOSTRAR EN GRUPOS
    // ======================================================================
    // Define nombres abreviados para países específicos que se mostrarán en los grupos
    // Los nombres que no están en este objeto se mostrarán sin cambios
    // ======================================================================
    const countryDisplayAliases = {
      "República de Corea": "R. De Corea",
      "Estados Unidos": "EE.UU.",
      "Costa de Marfil": "C. De Marfil",
      "Nueva Zelanda": "N. Zelanda",
      "R. INTERCONT 1": "R. INTER 1",
      "R. INTERCONT 2": "R. INTER 2",
      "México": "Mexico"
    };

    const countryAbbreviations = {
      "España": "ESP", "Argentina": "ARG", "Francia": "FRA", "Inglaterra": "ENG", "Brasil": "BRA", "Portugal": "POR",
      "Países Bajos": "NED", "Bélgica": "BEL", "Alemania": "GER", "Estados Unidos": "USA", "México": "MEX", "Canadá": "CAN",
      "Croacia": "CRO", "Marruecos": "MAR", "Colombia": "COL", "Uruguay": "URU", "Suiza": "SUI", "Japón": "JPN",
      "Senegal": "SEN", "Irán": "IRN", "República de Corea": "KOR", "Ecuador": "ECU", "Austria": "AUT", "Australia": "AUS",
      "Noruega": "NOR", "Panamá": "PAN", "Egipto": "EGY", "Argelia": "ALG", "Escocia": "SCO", "Paraguay": "PAR",
      "Túnez": "TUN", "Costa de Marfil": "CIV", "Uzbekistán": "UZB", "Catar": "QAT", "A. Saudita": "KSA", "Sudáfrica": "RSA",
      "Jordania": "JOR", "Cabo Verde": "CPV", "Ghana": "GHA", "Curazao": "CUW", "Haití": "HTI", "Nueva Zelanda": "NZL",
      "Repechaje Europeo 1": "EUR1", "Repechaje Europeo 2": "EUR2", "Repechaje Europeo 3": "EUR3", "Repechaje Europeo 4": "EUR4",
      "Repechaje Intercontinental 1": "INT1", "Repechaje Intercontinental 2": "INT2"
    };

    const socket = io();
    let previousData = {};
    let groupsData = {};
    
    // Países con fondo blanco que necesitan borde negro
    const countriesWithWhiteBackground = ['dz', 'qa', 'kr', 'jp', 'gb-eng', 'pa'];

    // Initialize previousData and groupsData structure
    ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L'].forEach(letter => {
      previousData[letter] = ['', '', '', ''];
      groupsData[letter] = ['', '', '', ''];
    });

    function setBorderVisibility(flagElement, visible) {
      const borderElement = document.getElementById('border-' + flagElement.id);
      if (borderElement) {
        if (visible) {
          borderElement.setAttribute('stroke', '#555555');
        } else {
          borderElement.setAttribute('stroke', 'none');
        }
      }
    }

    function isTeamAssignedInOverlay(teamName) {
      // Verificar si el equipo ya está en algún grupo
      for (const groupLetter of ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L']) {
        if (groupsData[groupLetter].includes(teamName)) {
          return true;
        }
      }
      return false;
    }

    // Preload all flag images with loading screen
    async function preloadAllFlags() {
      const loadingScreen = document.getElementById('loading-screen');
      const loadingProgress = document.getElementById('loading-progress');
      const svgElement = document.getElementById('Capa_1');
      
      // Collect all unique flag codes to preload
      const flagCodes = Object.values(countryToCode);
      const uniqueFlags = [...new Set(flagCodes)];
      
      // Add placeholder
      const allFlags = [...uniqueFlags, 'inc'];
      
      let loadedCount = 0;
      const totalFlags = allFlags.length;
      
      console.log(`Precargando ${totalFlags} banderas...`);
      
      // Create promises for all flag images
      const loadPromises = allFlags.map(code => {
        return new Promise((resolve, reject) => {
          const img = new Image();
          
          img.onload = () => {
            loadedCount++;
            const progress = Math.round((loadedCount / totalFlags) * 100);
            loadingProgress.textContent = `${progress}%`;
            console.log(`Cargada bandera ${code}: ${loadedCount}/${totalFlags}`);
            resolve();
          };
          
          img.onerror = () => {
            loadedCount++;
            const progress = Math.round((loadedCount / totalFlags) * 100);
            loadingProgress.textContent = `${progress}%`;
            console.warn(`Error cargando bandera: ${code}`);
            resolve(); // Resolve anyway to continue
          };
          
          img.src = `/w2560/${code}.png`;
        });
      });
      
      // Wait for all flags to load
      await Promise.all(loadPromises);
      
      console.log('Todas las banderas cargadas');
      
      // Hide loading screen and show content
      setTimeout(() => {
        console.log('Iniciando transición de pantalla de carga...');
        
        // Hide loading screen
        loadingScreen.classList.add('hidden');
        
        // Show SVG content (SVG elements need setAttribute for classes)
        svgElement.setAttribute('class', 'loaded');
        svgElement.style.opacity = '1';
        
        console.log('Pantalla de carga ocultada, contenido visible');
      }, 500);
    }
    
    // Wait for DOM to be fully loaded before starting preload
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', preloadAllFlags);
    } else {
      // DOM already loaded
      preloadAllFlags();
    }

    // Apply rounded corners to all flag images
    document.querySelectorAll('image[id^="flag"]').forEach(img => {
      // Bombo flags use bombo clipPath, group flags use groups clipPath
      if (img.id.startsWith('bombo-flag')) {
        img.setAttribute('clip-path', 'url(#flag-rounded-bombo)');
      } else {
        img.setAttribute('clip-path', 'url(#flag-rounded-groups)');
      }
    });

    socket.on('groups_update', (data) => {
      console.log('Data updated from server (overlay2)');
      groupsData = JSON.parse(JSON.stringify(data));
      updateDisplay(data);
      updateBomboDisplay(currentBombo); // Actualizar bombo display cuando cambian grupos
    });

    let currentBombo = 1;

    function updateDisplay(data) {
      ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L'].forEach(groupName => {
        const teams = data[groupName] || ['', '', '', ''];
        for (let i = 0; i < 4; i++) {
          const textId = `${groupName}${i + 1}`;
          const flagId = `flag${groupName}${i + 1}`;
          const textElement = document.getElementById(textId);
          const flagElement = document.getElementById(flagId);
          
          if (textElement && flagElement) {
            const teamName = teams[i] ? teams[i].trim() : '';
            const previousTeamName = previousData[groupName][i] ? previousData[groupName][i].trim() : '';
            const isNewTeam = teamName !== previousTeamName && teamName !== '';

            // Aplicar alias para nombres de países si existe, de lo contrario usar nombre original
            const displayName = teamName ? (countryDisplayAliases[teamName] || teamName) : `Pais ${i + 1}`;
            textElement.textContent = displayName;
            
            if (teamName && countryToCode[teamName]) {
              const code = countryToCode[teamName];
              flagElement.href.baseVal = `/w2560/${code}.png`;
              
              // Agregar borde si el país tiene fondo blanco
              setBorderVisibility(flagElement, countriesWithWhiteBackground.includes(code));
            } else {
              flagElement.href.baseVal = '/w2560/inc.png';
              setBorderVisibility(flagElement, false);
            }

            // Apply animations only when a new team is added
            if (isNewTeam) {
              console.log('Animating new team:', teamName, 'at', textId);
              
              // Ensure flag is visible immediately (no fade animation on flag)
              flagElement.style.opacity = '1';
              flagElement.style.transition = 'none';
              
              // Get text position for clipPath IMMEDIATELY
              const textBBox = textElement.getBBox();
              const clipPathId = 'clipPath-' + textId;
              const defs = document.getElementById('svg-defs');
              
              // Remove existing clipPath if any
              const existingClip = document.getElementById(clipPathId);
              if (existingClip) existingClip.remove();
              
              // Create clipPath with width 0 BEFORE any animation
              const clipPath = document.createElementNS('http://www.w3.org/2000/svg', 'clipPath');
              clipPath.id = clipPathId;
              
              const clipRect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
              clipRect.setAttribute('x', textBBox.x);
              clipRect.setAttribute('y', textBBox.y);
              clipRect.setAttribute('width', '0');
              clipRect.setAttribute('height', textBBox.height);
              
              clipPath.appendChild(clipRect);
              defs.appendChild(clipPath);
              
              // Apply clipPath to text IMMEDIATELY (hides text)
              textElement.setAttribute('clip-path', 'url(#' + clipPathId + ')');
              
              // Animate text sweep after a small delay
              setTimeout(() => {
                clipRect.style.transition = 'width 0.8s ease-in-out';
                clipRect.setAttribute('width', textBBox.width);
                
                // Remove clip-path after animation completes
                setTimeout(() => {
                  textElement.removeAttribute('clip-path');
                }, 800);
              }, 100);
              
            } else if (!teamName) {
              // Reset styles when team is cleared
              flagElement.style.opacity = '1';
              flagElement.style.transition = 'none';
              textElement.removeAttribute('clip-path');
            } else {
              // For existing teams (no change), ensure they're visible
              flagElement.style.opacity = '1';
              flagElement.style.transition = 'none';
              textElement.removeAttribute('clip-path');
            }
          }
        }
      });

      // Update previousData for next comparison
      previousData = JSON.parse(JSON.stringify(data));
    }

    socket.on('highlighted_group_update', (highlightedGroup) => {
      console.log('Highlighted group update received:', highlightedGroup);
      
      // Resetear todos los headers a negro
      const allGroups = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L'];
      allGroups.forEach(letter => {
        const header = document.getElementById('header' + letter);
        if (header) {
          if (letter === highlightedGroup) {
            header.setAttribute('fill', '#AA8112'); // Dorado oscuro
          } else {
            header.setAttribute('fill', '#000'); // Negro
          }
        }
      });
    });

    socket.on('bombo_update', (bomboNumber) => {
      console.log('Bombo update received:', bomboNumber);
      currentBombo = bomboNumber;
      updateBomboDisplay(bomboNumber);
    });

    socket.on('highlighted_country_update', (countryIndex) => {
      console.log('Highlighted country update received:', countryIndex);
      updateCountryHighlight(countryIndex);
    });

    function updateCountryHighlight(countryIndex) {
      // Ocultar todos los highlights de todos los bombos
      for (let b = 1; b <= 4; b++) {
        const suffix = b === 1 ? '' : `-b${b}`;
        for (let i = 0; i < 12; i++) {
          const highlightElement = document.getElementById(`country-highlight-${i}${suffix}`);
          if (highlightElement) {
            highlightElement.setAttribute('opacity', '0');
          }
        }
      }
      
      // Mostrar el highlight del país seleccionado en el bombo actual
      if (countryIndex >= 0 && countryIndex < 12) {
        const suffix = currentBombo === 1 ? '' : `-b${currentBombo}`;
        const highlightElement = document.getElementById(`country-highlight-${countryIndex}${suffix}`);
        if (highlightElement) {
          highlightElement.setAttribute('opacity', '0.8');
        }
      }
    }

    function updateBomboDisplay(bomboNumber) {
      currentBombo = bomboNumber;
      const bomboTeams = bombos[bomboNumber] || [];
      
      // Encontrar el bombo visible actualmente
      let visibleBombo = null;
      for (let b = 1; b <= 4; b++) {
        const container = document.getElementById(`bombo-container-${b}`);
        if (container && container.style.display !== 'none') {
          visibleBombo = container;
          break;
        }
      }
      
      // Función para actualizar el contenido del bombo
      const updateBomboContent = () => {
        // Determinar sufijo del bombo para los IDs
        const suffix = bomboNumber === 1 ? '' : `-b${bomboNumber}`;

        for (let i = 0; i < 12; i++) {
          const teamName = bomboTeams[i] || '';
          const teamElement = document.getElementById(`bombo-team-${i}${suffix}`);
          const flagElement = document.getElementById(`bombo-flag-${i}${suffix}`);
          const isAssigned = isTeamAssignedInOverlay(teamName);

          if (teamElement) {
            const abbreviation = teamName ? (countryAbbreviations[teamName] || teamName) : '';
            teamElement.textContent = abbreviation;
            
            // Aplicar estilos de equipo asignado
            if (isAssigned) {
              teamElement.setAttribute('class', 'cls-8 assigned-text');
            } else {
              teamElement.setAttribute('class', 'cls-8');
            }
          }

          if (flagElement) {
            if (teamName && countryToCode[teamName]) {
              const code = countryToCode[teamName];
              flagElement.href.baseVal = `/w2560/${code}.png`;
              
              // Agregar borde si el país tiene fondo blanco
              const borderElement = document.getElementById(`border-bombo-flag-${i}${suffix}`);
              if (borderElement) {
                if (countriesWithWhiteBackground.includes(code)) {
                  borderElement.setAttribute('stroke', '#555555');
                } else {
                  borderElement.setAttribute('stroke', 'none');
                }
              }
            } else {
              flagElement.href.baseVal = '/w2560/inc.png';
              const borderElement = document.getElementById(`border-bombo-flag-${i}${suffix}`);
              if (borderElement) {
                borderElement.setAttribute('stroke', 'none');
              }
            }
            
            // Aplicar offset de posicionamiento manual (mismo para todas las banderas)
            flagElement.setAttribute('x', bomboFlagOffset.x);
            flagElement.setAttribute('y', bomboFlagOffset.y);
            
            // Aplicar filtro grayscale a banderas asignadas
            if (isAssigned) {
              flagElement.setAttribute('class', 'flag-image assigned-flag');
            } else {
              flagElement.setAttribute('class', 'flag-image');
            }
          }
        }
      };
      
      // Si hay un bombo visible y es diferente al que queremos mostrar, hacer fade out
      if (visibleBombo && visibleBombo.id !== `bombo-container-${bomboNumber}`) {
        visibleBombo.classList.add('fade-out');
        visibleBombo.classList.remove('fade-in');
        
        // Esperar a que termine el fade out antes de cambiar
        setTimeout(() => {
          // Ocultar todos los bombos
          for (let b = 1; b <= 4; b++) {
            const bomboContainer = document.getElementById(`bombo-container-${b}`);
            if (bomboContainer) {
              bomboContainer.style.display = 'none';
              bomboContainer.classList.remove('fade-out', 'fade-in');
            }
          }
          
          // Mostrar el nuevo bombo y hacer fade in
          const newBomboContainer = document.getElementById(`bombo-container-${bomboNumber}`);
          if (newBomboContainer) {
            newBomboContainer.style.display = 'block';
            // Forzar reflow para que la transición funcione
            newBomboContainer.offsetHeight;
            newBomboContainer.classList.add('fade-in');
          }
          
          // Actualizar contenido del nuevo bombo
          updateBomboContent();
        }, 400); // Tiempo de la transición CSS
      } else {
        // Si no hay bombo visible o es el mismo, mostrar directamente
        // Ocultar todos los bombos
        for (let b = 1; b <= 4; b++) {
          const bomboContainer = document.getElementById(`bombo-container-${b}`);
          if (bomboContainer) {
            bomboContainer.style.display = 'none';
            bomboContainer.classList.remove('fade-out', 'fade-in');
          }
        }
        
        // Mostrar el bombo actual con fade in
        const currentBomboContainer = document.getElementById(`bombo-container-${bomboNumber}`);
        if (currentBomboContainer) {
          currentBomboContainer.style.display = 'block';
          currentBomboContainer.offsetHeight;
          currentBomboContainer.classList.add('fade-in');
        }
        
        // Actualizar contenido
        updateBomboContent();
      }
    }

    socket.on('connect', () => {
      console.log('Connected to server (overlay3)');
    });

    // ===== CONTROLES MANUALES DE POSICIÓN Y ESCALA =====
    
    // Función para toggle del panel de controles
    function toggleControls() {
      const panel = document.getElementById('controls-panel');
      panel.classList.toggle('show');
    }

    // Valores por defecto para cada grupo y bombo
    const defaultValues = {
      groups: {},
      bombos: {}
    };

    // Inicializar valores por defecto para grupos A-L
    ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L'].forEach(letter => {
      defaultValues.groups[letter] = { x: 0, y: 0, scaleX: 1, scaleY: 1 };
    });

    // Inicializar valores por defecto para bombos 1-4
    [1, 2, 3, 4].forEach(num => {
      defaultValues.bombos[num] = { x: 0, y: 0, scaleX: 1, scaleY: 1 };
    });

    // Generar controles para grupos
    function generateGroupControls() {
      const container = document.getElementById('groups-controls');
      container.innerHTML = '<h4>Grupos (A-L)</h4>';
      
      ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L'].forEach(letter => {
        const groupDiv = document.createElement('div');
        groupDiv.style.marginBottom = '10px';
        groupDiv.innerHTML = `
          <div style="font-weight: bold; margin-bottom: 5px; color: #00d9ff;">Grupo ${letter}</div>
          <div class="control-row">
            <label>X:</label>
            <input type="number" id="group-${letter}-x" value="0" step="1" onchange="applyTransform('group', '${letter}')">
            <label>Y:</label>
            <input type="number" id="group-${letter}-y" value="0" step="1" onchange="applyTransform('group', '${letter}')">
          </div>
          <div class="control-row">
            <label>ScaleX:</label>
            <input type="number" id="group-${letter}-scaleX" value="1" step="0.01" min="0.1" max="3" onchange="applyTransform('group', '${letter}')">
            <label>ScaleY:</label>
            <input type="number" id="group-${letter}-scaleY" value="1" step="0.01" min="0.1" max="3" onchange="applyTransform('group', '${letter}')">
          </div>
        `;
        container.appendChild(groupDiv);
      });
    }

    // Generar controles para bombos
    function generateBomboControls() {
      const container = document.getElementById('bombos-controls');
      container.innerHTML = '<h4>Bombos (1-4)</h4>';
      
      [1, 2, 3, 4].forEach(num => {
        const bomboDiv = document.createElement('div');
        bomboDiv.style.marginBottom = '10px';
        bomboDiv.innerHTML = `
          <div style="font-weight: bold; margin-bottom: 5px; color: #00d9ff;">Bombo ${num}</div>
          <div class="control-row">
            <label>X:</label>
            <input type="number" id="bombo-${num}-x" value="0" step="1" onchange="applyTransform('bombo', ${num})">
            <label>Y:</label>
            <input type="number" id="bombo-${num}-y" value="0" step="1" onchange="applyTransform('bombo', ${num})">
          </div>
          <div class="control-row">
            <label>ScaleX:</label>
            <input type="number" id="bombo-${num}-scaleX" value="1" step="0.01" min="0.1" max="3" onchange="applyTransform('bombo', ${num})">
            <label>ScaleY:</label>
            <input type="number" id="bombo-${num}-scaleY" value="1" step="0.01" min="0.1" max="3" onchange="applyTransform('bombo', ${num})">
          </div>
        `;
        container.appendChild(bomboDiv);
      });
    }

    // Aplicar transformación a un grupo o bombo
    function applyTransform(type, id) {
      if (type === 'group') {
        // Obtener valores
        const x = parseFloat(document.getElementById(`group-${id}-x`).value) || 0;
        const y = parseFloat(document.getElementById(`group-${id}-y`).value) || 0;
        const scaleX = parseFloat(document.getElementById(`group-${id}-scaleX`).value) || 1;
        const scaleY = parseFloat(document.getElementById(`group-${id}-scaleY`).value) || 1;
        
        // Encontrar el grupo en el SVG
        // Los grupos están identificados por el header con id="header{letter}"
        const header = document.getElementById(`header${id}`);
        if (header) {
          // Buscar el <g> padre que contiene todo el grupo
          let groupElement = header.parentElement;
          if (groupElement && groupElement.tagName === 'g') {
            // Leer transformación existente si la hay
            const existingTransform = groupElement.getAttribute('transform') || '';
            
            // Aplicar transformación
            const transform = `translate(${x}, ${y}) scale(${scaleX}, ${scaleY})`;
            groupElement.setAttribute('transform', transform);
            
            console.log(`Applied transform to group ${id}: ${transform}`);
          } else {
            console.warn(`Group element not found for ${id}`);
          }
        } else {
          console.warn(`Header not found: header${id}`);
        }
      } else if (type === 'bombo') {
        // Obtener valores
        const x = parseFloat(document.getElementById(`bombo-${id}-x`).value) || 0;
        const y = parseFloat(document.getElementById(`bombo-${id}-y`).value) || 0;
        const scaleX = parseFloat(document.getElementById(`bombo-${id}-scaleX`).value) || 1;
        const scaleY = parseFloat(document.getElementById(`bombo-${id}-scaleY`).value) || 1;
        
        // Encontrar el contenedor del bombo
        const bomboContainer = document.getElementById(`bombo-container-${id}`);
        if (bomboContainer) {
          // Aplicar transformación
          const transform = `translate(${x}, ${y}) scale(${scaleX}, ${scaleY})`;
          bomboContainer.setAttribute('transform', transform);
          
          console.log(`Applied transform to bombo ${id}: ${transform}`);
        } else {
          console.warn(`Bombo container not found: bombo-container-${id}`);
        }
      }
    }

    // Inicializar controles cuando el DOM esté listo
    window.addEventListener('DOMContentLoaded', () => {
      generateGroupControls();
      generateBomboControls();
    });
  </script>
</body>
</html>
