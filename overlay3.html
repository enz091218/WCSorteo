<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Overlay 3 - Disposición Vertical (3×4)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    /* ============================================
       VARIABLES CSS PERSONALIZABLES
       Modifica estos valores para cambiar colores y tamaños
       ============================================ */
    :root {
      /* COLORES DEL BOMBO */
      --bombo-background: #00ff00;        /* Fondo del cuerpo del bombo */
      --bombo-header: #000000;            /* Fondo del encabezado del bombo */
      --bombo-title-color: #ffffff;       /* Color del texto del título (BOMBO 1, 2, etc) */
      --bombo-title-size: 16.05px;        /* Tamaño de fuente del título */
      --bombo-team-color: #000000;        /* Color del texto de los equipos */
      --bombo-team-size: 16.05px;         /* Tamaño de fuente de los equipos */
      
      /* COLORES DE RESALTADO */
      --highlight-color: #AA8112;         /* Color de fondo al resaltar un país */
      --highlight-opacity: 1;             /* Opacidad del resaltado (0-1) */
      
      /* COLORES DE EQUIPOS ASIGNADOS */
      --assigned-team-color: #888888;     /* Color de texto para equipos ya asignados */
      --assigned-opacity: 0.5;            /* Opacidad para equipos asignados */
      
      /* VISTA AMPLIADA (Featured Country) */
      --featured-text-color: #000000;     /* Color del texto del país destacado */
      --featured-text-size: 28px;         /* Tamaño de fuente del país destacado */
      
      /* PANTALLA DE CARGA */
      --loading-bg: rgba(0, 0, 0, 0.9);   /* Fondo de la pantalla de carga */
      --loading-text-color: #ffffff;      /* Color del texto de carga */
      --loading-text-size: 24px;          /* Tamaño del texto de carga */
      --loading-spinner-color: #ffffff;   /* Color del spinner de carga */
      --loading-progress-size: 16px;      /* Tamaño del texto de progreso */
      
      /* TAMAÑOS DE BANDERAS */
      --flag-bombo-width: 48px;           /* Ancho de banderas en bombo */
      --flag-bombo-height: 32px;          /* Alto de banderas en bombo */
      --flag-bombo-radius: 12px;          /* Radio de esquinas en banderas bombo */
      --flag-groups-width: 51.4px;        /* Ancho de banderas en grupos */
      --flag-groups-height: 34.2px;       /* Alto de banderas en grupos */
      --flag-featured-width: 240px;       /* Ancho de bandera destacada */
      --flag-featured-height: 160px;      /* Alto de bandera destacada */
      --flag-featured-radius: 20px;       /* Radio de esquinas bandera destacada */
      
      /* BORDE DE BANDERAS */
      --flag-border-color: #555555;       /* Color del borde para banderas con fondo blanco */
      --flag-border-width: 2px;           /* Grosor del borde */
      
      /* ESPACIADO Y DIMENSIONES DE RESALTADO */
      --highlight-width: 115px;           /* Ancho del área de resaltado */
      --highlight-height: 42px;           /* Alto del área de resaltado */
      --highlight-radius: 8px;            /* Radio de esquinas del resaltado */
      
      /* FUENTE */
      --font-family: 'Moderniz', Arial, sans-serif;
    }
    
    /* ============================================
       ESTILOS BASE
       ============================================ */
    @font-face {
      font-family: 'Moderniz';
      src: url('/fuente/Moderniz.otf') format('opentype');
    }

    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      width: 100%;
      height: 100%;
      background: transparent;
    }
    
    body {
      display: flex;
      justify-content: center;
      align-items: center;
    }
    
    svg {
      display: block;
      max-width: 100vw;
      max-height: 100vh;
      width: auto;
      height: auto;
      aspect-ratio: 16 / 9;
      opacity: 0;
      transition: opacity 0.8s ease-in-out;
    }
    
    svg.loaded {
      opacity: 1;
    }
    
    @supports not (aspect-ratio: 16 / 9) {
      svg {
        width: 100vw;
        height: 56.25vw;
        max-height: 100vh;
        max-width: 177.78vh;
      }
    }

    /* ============================================
       PANTALLA DE CARGA
       ============================================ */
    #loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--loading-bg);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.5s ease-in-out, visibility 0.5s ease-in-out;
    }
    
    #loading-screen.hidden {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
    }

    .loading-text {
      color: var(--loading-text-color);
      font-family: var(--font-family);
      font-size: var(--loading-text-size);
      margin-bottom: 20px;
    }
    
    .loading-spinner {
      width: 50px;
      height: 50px;
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-top-color: var(--loading-spinner-color);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .loading-progress {
      color: var(--loading-text-color);
      font-family: var(--font-family);
      font-size: var(--loading-progress-size);
      margin-top: 20px;
    }

    /* ============================================
       ESTILOS DE BANDERAS Y EQUIPOS
       ============================================ */
    image.assigned-flag {
      filter: grayscale(100%) opacity(var(--assigned-opacity));
    }

    .assigned-text {
      fill: var(--assigned-team-color) !important;
      opacity: var(--assigned-opacity);
    }

    .flag-image {
      width: var(--flag-groups-width);
      height: var(--flag-groups-height);
    }
    
    image[id^="flag"] {
      border-radius: var(--flag-bombo-radius);
    }

    /* ============================================
       ANIMACIONES Y TRANSICIONES
       ============================================ */
    .bombo-container {
      transition: opacity 0.4s ease-in-out;
    }
    
    .bombo-container.fade-out {
      opacity: 0;
    }
    
    .bombo-container.fade-in {
      opacity: 1;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes slideIn {
      from {
        transform: translateX(-30px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
  </style>
  <script src="/config-loader.js"></script>
</head>
<body>
  <!-- PANTALLA DE CARGA -->
  <div id="loading-screen">
    <div class="loading-text">Cargando transmisión...</div>
    <div class="loading-spinner"></div>
    <div class="loading-progress" id="loading-progress">0%</div>
  </div>
  
  <!-- SVG PRINCIPAL -->
  <svg id="Capa_1" data-name="Capa 1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1920 1080">
    <defs id="svg-defs">
      <style>
        .cls-7 { font-size: 14px; }
        .cls-7, .cls-8 { font-family: var(--font-family); }
        .cls-17 { fill: transparent; }
        .cls-20 { letter-spacing: -.03em; }
        .cls-22 { fill: var(--bombo-background); }
        .cls-8 { 
          fill: var(--bombo-title-color);
          font-size: var(--bombo-title-size);
        }
        .cls-23 { letter-spacing: -.06em; }
        .cls-43 { letter-spacing: -.18em; }
        .cls-56 { fill: none; stroke: none; stroke-miterlimit: 10; }
        .cls-57 { letter-spacing: -.11em; }
        
        text[id^="bombo-team-"], g[id^="flag-container-"] {
          transition: opacity 0.3s ease;
        }
      </style>
      
      <!-- CLIP PATHS PARA ESQUINAS REDONDEADAS -->
      <clipPath id="flag-rounded-bombo" clipPathUnits="userSpaceOnUse">
        <rect x="0" y="0" width="48" height="32" rx="12" ry="8"/>
      </clipPath>
      <clipPath id="flag-rounded-groups" clipPathUnits="userSpaceOnUse">
        <rect x="0" y="0" width="51.4" height="34.2" rx="12.51" ry="8.3"/>
      </clipPath>
      <clipPath id="flag-rounded-featured" clipPathUnits="userSpaceOnUse">
        <rect x="0" y="0" width="240" height="160" rx="20" ry="13.33"/>
      </clipPath>
    </defs>
    
    <rect class="cls-17" width="1920" height="1080"/>
    
    <!-- ============================================
         BOMBO 1
         ============================================ -->
    <g id="bombo-container-1" class="bombo-container" opacity="1">
      <!-- Cuerpo y cabecera del bombo -->
      <path class="cls-22" d="M194.58,254.73h474.83v169.3c0,20.51-16.65,37.16-37.16,37.16H194.58v-206.47h0Z"/>
      <path d="M232.7,216.61h398.58c21.04,0,38.12,17.08,38.12,38.12H194.58c0-21.04,17.08-38.12,38.12-38.12Z" fill="var(--bombo-header)"/>
      <text class="cls-8" id="bombo-title-1" transform="translate(366.47 242.41)"><tspan x="0" y="0">BOMBO 1</tspan></text>
      
      <!-- Columna 1 -->
      <rect id="country-highlight-0" x="217" y="270" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-0" transform="translate(222 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-0" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-0" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-0" transform="translate(277 297)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-1" x="217" y="312" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-1" transform="translate(222 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-1" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-1" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-1" transform="translate(277 339)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-2" x="217" y="354" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-2" transform="translate(222 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-2" transform="translate(277 381)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-3" x="217" y="396" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-3" transform="translate(222 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-3" transform="translate(277 423)" style="fill: var(--bombo-team-color);"></text>
      
      <!-- Columna 2 -->
      <rect id="country-highlight-4" x="372" y="270" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-4" transform="translate(377 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-4" transform="translate(432 297)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-5" x="372" y="312" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-5" transform="translate(377 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-5" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-5" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-5" transform="translate(432 339)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-6" x="372" y="354" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-6" transform="translate(377 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-6" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-6" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-6" transform="translate(432 381)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-7" x="372" y="396" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-7" transform="translate(377 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-7" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-7" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-7" transform="translate(432 423)" style="fill: var(--bombo-team-color);"></text>
      
      <!-- Columna 3 -->
      <rect id="country-highlight-8" x="527" y="270" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-8" transform="translate(532 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-8" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-8" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-8" transform="translate(587 297)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-9" x="527" y="312" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-9" transform="translate(532 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-9" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-9" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-9" transform="translate(587 339)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-10" x="527" y="354" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-10" transform="translate(532 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-10" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-10" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-10" transform="translate(587 381)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-11" x="527" y="396" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g id="flag-container-11" transform="translate(532 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-11" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-11" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-11" transform="translate(587 423)" style="fill: var(--bombo-team-color);"></text>
      
      <!-- Vista ampliada para país destacado -->
      <g id="featured-country-1" opacity="0" style="transition: opacity 0.4s ease;">
        <g transform="translate(312 255)" clip-path="url(#flag-rounded-featured)">
          <image id="featured-flag-1" x="0" y="0" width="240" height="160" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/>
        </g>
        <text id="featured-text-1" transform="translate(432 430)" style="font-family: var(--font-family); font-size: var(--featured-text-size); fill: var(--featured-text-color); text-anchor: middle; font-weight: bold;"></text>
      </g>
    </g>
    
    <!-- ============================================
         BOMBO 2
         ============================================ -->
    <g id="bombo-container-2" class="bombo-container" opacity="1" style="display:none;">
      <path class="cls-22" d="M194.58,254.73h474.83v169.3c0,20.51-16.65,37.16-37.16,37.16H194.58v-206.47h0Z"/>
      <path d="M232.7,216.61h398.58c21.04,0,38.12,17.08,38.12,38.12H194.58c0-21.04,17.08-38.12,38.12-38.12Z" fill="var(--bombo-header)"/>
      <text class="cls-8" id="bombo-title-2" transform="translate(366.47 242.41)"><tspan x="0" y="0">BOMBO 2</tspan></text>
      
      <rect id="country-highlight-0-b2" x="217" y="270" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-0-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-0-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-0-b2" transform="translate(277 297)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-1-b2" x="217" y="312" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-1-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-1-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-1-b2" transform="translate(277 339)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-2-b2" x="217" y="354" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-2-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-2-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-2-b2" transform="translate(277 381)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-3-b2" x="217" y="396" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-3-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-3-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-3-b2" transform="translate(277 423)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-4-b2" x="372" y="270" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-4-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-4-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-4-b2" transform="translate(432 297)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-5-b2" x="372" y="312" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-5-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-5-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-5-b2" transform="translate(432 339)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-6-b2" x="372" y="354" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-6-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-6-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-6-b2" transform="translate(432 381)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-7-b2" x="372" y="396" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-7-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-7-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-7-b2" transform="translate(432 423)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-8-b2" x="527" y="270" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-8-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-8-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-8-b2" transform="translate(587 297)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-9-b2" x="527" y="312" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-9-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-9-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-9-b2" transform="translate(587 339)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-10-b2" x="527" y="354" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-10-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-10-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-10-b2" transform="translate(587 381)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-11-b2" x="527" y="396" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-11-b2" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-11-b2" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-11-b2" transform="translate(587 423)" style="fill: var(--bombo-team-color);"></text>
      
      <g id="featured-country-2" opacity="0" style="transition: opacity 0.4s ease;">
        <g transform="translate(312 255)" clip-path="url(#flag-rounded-featured)">
          <image id="featured-flag-2" x="0" y="0" width="240" height="160" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/>
        </g>
        <text id="featured-text-2" transform="translate(432 430)" style="font-family: var(--font-family); font-size: var(--featured-text-size); fill: var(--featured-text-color); text-anchor: middle; font-weight: bold;"></text>
      </g>
    </g>
    
    <!-- ============================================
         BOMBO 3
         ============================================ -->
    <g id="bombo-container-3" class="bombo-container" opacity="1" style="display:none;">
      <path class="cls-22" d="M194.58,254.73h474.83v169.3c0,20.51-16.65,37.16-37.16,37.16H194.58v-206.47h0Z"/>
      <path d="M232.7,216.61h398.58c21.04,0,38.12,17.08,38.12,38.12H194.58c0-21.04,17.08-38.12,38.12-38.12Z" fill="var(--bombo-header)"/>
      <text class="cls-8" id="bombo-title-3" transform="translate(366.47 242.41)"><tspan x="0" y="0">BOMBO 3</tspan></text>
      
      <rect id="country-highlight-0-b3" x="217" y="270" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-0-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-0-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-0-b3" transform="translate(277 297)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-1-b3" x="217" y="312" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-1-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-1-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-1-b3" transform="translate(277 339)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-2-b3" x="217" y="354" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-2-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-2-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-2-b3" transform="translate(277 381)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-3-b3" x="217" y="396" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-3-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-3-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-3-b3" transform="translate(277 423)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-4-b3" x="372" y="270" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-4-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-4-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-4-b3" transform="translate(432 297)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-5-b3" x="372" y="312" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-5-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-5-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-5-b3" transform="translate(432 339)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-6-b3" x="372" y="354" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-6-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-6-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-6-b3" transform="translate(432 381)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-7-b3" x="372" y="396" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-7-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-7-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-7-b3" transform="translate(432 423)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-8-b3" x="527" y="270" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-8-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-8-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-8-b3" transform="translate(587 297)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-9-b3" x="527" y="312" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-9-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-9-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-9-b3" transform="translate(587 339)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-10-b3" x="527" y="354" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-10-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-10-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-10-b3" transform="translate(587 381)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-11-b3" x="527" y="396" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-11-b3" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-11-b3" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-11-b3" transform="translate(587 423)" style="fill: var(--bombo-team-color);"></text>
      
      <g id="featured-country-3" opacity="0" style="transition: opacity 0.4s ease;">
        <g transform="translate(312 255)" clip-path="url(#flag-rounded-featured)">
          <image id="featured-flag-3" x="0" y="0" width="240" height="160" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/>
        </g>
        <text id="featured-text-3" transform="translate(432 430)" style="font-family: var(--font-family); font-size: var(--featured-text-size); fill: var(--featured-text-color); text-anchor: middle; font-weight: bold;"></text>
      </g>
    </g>
    
    <!-- ============================================
         BOMBO 4
         ============================================ -->
    <g id="bombo-container-4" class="bombo-container" opacity="1" style="display:none;">
      <path class="cls-22" d="M194.58,254.73h474.83v169.3c0,20.51-16.65,37.16-37.16,37.16H194.58v-206.47h0Z"/>
      <path d="M232.7,216.61h398.58c21.04,0,38.12,17.08,38.12,38.12H194.58c0-21.04,17.08-38.12,38.12-38.12Z" fill="var(--bombo-header)"/>
      <text class="cls-8" id="bombo-title-4" transform="translate(366.47 242.41)"><tspan x="0" y="0">BOMBO 4</tspan></text>
      
      <rect id="country-highlight-0-b4" x="217" y="270" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-0-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-0-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-0-b4" transform="translate(277 297)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-1-b4" x="217" y="312" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-1-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-1-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-1-b4" transform="translate(277 339)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-2-b4" x="217" y="354" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-2-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-2-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-2-b4" transform="translate(277 381)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-3-b4" x="217" y="396" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(222 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-3-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-3-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-3-b4" transform="translate(277 423)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-4-b4" x="372" y="270" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-4-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-4-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-4-b4" transform="translate(432 297)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-5-b4" x="372" y="312" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-5-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-5-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-5-b4" transform="translate(432 339)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-6-b4" x="372" y="354" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-6-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-6-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-6-b4" transform="translate(432 381)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-7-b4" x="372" y="396" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(377 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-7-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-7-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-7-b4" transform="translate(432 423)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-8-b4" x="527" y="270" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 275)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-8-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-8-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-8-b4" transform="translate(587 297)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-9-b4" x="527" y="312" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 317)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-9-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-9-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-9-b4" transform="translate(587 339)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-10-b4" x="527" y="354" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 359)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-10-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-10-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-10-b4" transform="translate(587 381)" style="fill: var(--bombo-team-color);"></text>
      
      <rect id="country-highlight-11-b4" x="527" y="396" width="115" height="42" rx="8" ry="8" fill="var(--highlight-color)" opacity="0" style="transition: opacity 0.3s;"/>
      <g transform="translate(532 401)" clip-path="url(#flag-rounded-bombo)"><image id="bombo-flag-11-b4" x="0" y="0" width="48" height="32" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/><rect id="border-bombo-flag-11-b4" x="0" y="0" width="48" height="32" rx="12" ry="8" fill="none" stroke="none" stroke-width="2"/></g><text class="cls-8" id="bombo-team-11-b4" transform="translate(587 423)" style="fill: var(--bombo-team-color);"></text>
      
      <g id="featured-country-4" opacity="0" style="transition: opacity 0.4s ease;">
        <g transform="translate(312 255)" clip-path="url(#flag-rounded-featured)">
          <image id="featured-flag-4" x="0" y="0" width="240" height="160" href="/w2560/inc.png" preserveAspectRatio="xMidYMid slice"/>
        </g>
        <text id="featured-text-4" transform="translate(432 430)" style="font-family: var(--font-family); font-size: var(--featured-text-size); fill: var(--featured-text-color); text-anchor: middle; font-weight: bold;"></text>
      </g>
    </g>
    
    <!-- ============================================
         SECCIÓN DE GRUPOS (A-L)
         ============================================ -->
    <g id="groups-A">
      <text id="headerA" transform="translate(707.05 262.09)" style="font-family:Ar Essence, Arial, sans-serif;font-size:42.27px;fill:#fff"><tspan class="cls-43" x="0" y="0">G</tspan><tspan x="25.21" y="0">RUPO </tspan><tspan class="cls-20" x="141.75" y="0">A</tspan></text>
      <g id="flag-A-0" transform="translate(707.05 283.98)" clip-path="url(#flag-rounded-groups)"><image id="flag-A-0-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-A-0" transform="translate(767.85 307.23)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-A-1" transform="translate(707.05 333.88)" clip-path="url(#flag-rounded-groups)"><image id="flag-A-1-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-A-1" transform="translate(767.85 357.13)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-A-2" transform="translate(707.05 383.77)" clip-path="url(#flag-rounded-groups)"><image id="flag-A-2-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-A-2" transform="translate(767.85 407.02)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-A-3" transform="translate(707.05 433.67)" clip-path="url(#flag-rounded-groups)"><image id="flag-A-3-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-A-3" transform="translate(767.85 456.92)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
    </g>
    
    <g id="groups-B">
      <text id="headerB" transform="translate(955.91 262.09)" style="font-family:Ar Essence,Arial,sans-serif;font-size:42.27px;fill:#fff"><tspan class="cls-43" x="0" y="0">G</tspan><tspan x="25.21" y="0">RUPO </tspan><tspan class="cls-20" x="141.75" y="0">B</tspan></text>
      <g id="flag-B-0" transform="translate(955.91 283.98)" clip-path="url(#flag-rounded-groups)"><image id="flag-B-0-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-B-0" transform="translate(1016.72 307.23)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-B-1" transform="translate(955.91 333.88)" clip-path="url(#flag-rounded-groups)"><image id="flag-B-1-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-B-1" transform="translate(1016.72 357.13)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-B-2" transform="translate(955.91 383.77)" clip-path="url(#flag-rounded-groups)"><image id="flag-B-2-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-B-2" transform="translate(1016.72 407.02)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-B-3" transform="translate(955.91 433.67)" clip-path="url(#flag-rounded-groups)"><image id="flag-B-3-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-B-3" transform="translate(1016.72 456.92)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
    </g>
    
    <g id="groups-C">
      <text id="headerC" transform="translate(1204.76 262.09)" style="font-family:Ar Essence,Arial,sans-serif;font-size:42.27px;fill:#fff"><tspan class="cls-43" x="0" y="0">G</tspan><tspan x="25.21" y="0">RUPO </tspan><tspan class="cls-20" x="141.75" y="0">C</tspan></text>
      <g id="flag-C-0" transform="translate(1204.76 283.98)" clip-path="url(#flag-rounded-groups)"><image id="flag-C-0-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-C-0" transform="translate(1265.57 307.23)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-C-1" transform="translate(1204.76 333.88)" clip-path="url(#flag-rounded-groups)"><image id="flag-C-1-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-C-1" transform="translate(1265.57 357.13)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-C-2" transform="translate(1204.76 383.77)" clip-path="url(#flag-rounded-groups)"><image id="flag-C-2-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-C-2" transform="translate(1265.57 407.02)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-C-3" transform="translate(1204.76 433.67)" clip-path="url(#flag-rounded-groups)"><image id="flag-C-3-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-C-3" transform="translate(1265.57 456.92)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
    </g>
    
    <g id="groups-D">
      <text id="headerD" transform="translate(707.05 524.22)" style="font-family:Ar Essence,Arial,sans-serif;font-size:42.27px;fill:#fff"><tspan class="cls-43" x="0" y="0">G</tspan><tspan x="25.21" y="0">RUPO </tspan><tspan class="cls-23" x="141.75" y="0">D</tspan></text>
      <g id="flag-D-0" transform="translate(707.05 546.11)" clip-path="url(#flag-rounded-groups)"><image id="flag-D-0-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-D-0" transform="translate(767.85 569.36)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-D-1" transform="translate(707.05 596.01)" clip-path="url(#flag-rounded-groups)"><image id="flag-D-1-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-D-1" transform="translate(767.85 619.26)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-D-2" transform="translate(707.05 645.9)" clip-path="url(#flag-rounded-groups)"><image id="flag-D-2-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-D-2" transform="translate(767.85 669.15)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-D-3" transform="translate(707.05 695.8)" clip-path="url(#flag-rounded-groups)"><image id="flag-D-3-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-D-3" transform="translate(767.85 719.05)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
    </g>
    
    <g id="groups-E">
      <text id="headerE" transform="translate(955.91 524.22)" style="font-family:Ar Essence,Arial,sans-serif;font-size:42.27px;fill:#fff"><tspan class="cls-43" x="0" y="0">G</tspan><tspan x="25.21" y="0">RUPO </tspan><tspan class="cls-20" x="141.75" y="0">E</tspan></text>
      <g id="flag-E-0" transform="translate(955.91 546.11)" clip-path="url(#flag-rounded-groups)"><image id="flag-E-0-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-E-0" transform="translate(1016.72 569.36)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-E-1" transform="translate(955.91 596.01)" clip-path="url(#flag-rounded-groups)"><image id="flag-E-1-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-E-1" transform="translate(1016.72 619.26)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-E-2" transform="translate(955.91 645.9)" clip-path="url(#flag-rounded-groups)"><image id="flag-E-2-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-E-2" transform="translate(1016.72 669.15)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-E-3" transform="translate(955.91 695.8)" clip-path="url(#flag-rounded-groups)"><image id="flag-E-3-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-E-3" transform="translate(1016.72 719.05)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
    </g>
    
    <g id="groups-F">
      <text id="headerF" transform="translate(1204.76 524.22)" style="font-family:Ar Essence,Arial,sans-serif;font-size:42.27px;fill:#fff"><tspan class="cls-43" x="0" y="0">G</tspan><tspan x="25.21" y="0">RUPO </tspan><tspan class="cls-20" x="141.75" y="0">F</tspan></text>
      <g id="flag-F-0" transform="translate(1204.76 546.11)" clip-path="url(#flag-rounded-groups)"><image id="flag-F-0-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-F-0" transform="translate(1265.57 569.36)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-F-1" transform="translate(1204.76 596.01)" clip-path="url(#flag-rounded-groups)"><image id="flag-F-1-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-F-1" transform="translate(1265.57 619.26)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-F-2" transform="translate(1204.76 645.9)" clip-path="url(#flag-rounded-groups)"><image id="flag-F-2-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-F-2" transform="translate(1265.57 669.15)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-F-3" transform="translate(1204.76 695.8)" clip-path="url(#flag-rounded-groups)"><image id="flag-F-3-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-F-3" transform="translate(1265.57 719.05)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
    </g>
    
    <g id="groups-G">
      <text id="headerG" transform="translate(707.05 786.35)" style="font-family:Ar Essence,Arial,sans-serif;font-size:42.27px;fill:#fff"><tspan class="cls-43" x="0" y="0">G</tspan><tspan x="25.21" y="0">RUPO </tspan><tspan class="cls-20" x="141.75" y="0">G</tspan></text>
      <g id="flag-G-0" transform="translate(707.05 808.24)" clip-path="url(#flag-rounded-groups)"><image id="flag-G-0-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-G-0" transform="translate(767.85 831.49)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-G-1" transform="translate(707.05 858.14)" clip-path="url(#flag-rounded-groups)"><image id="flag-G-1-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-G-1" transform="translate(767.85 881.39)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-G-2" transform="translate(707.05 908.03)" clip-path="url(#flag-rounded-groups)"><image id="flag-G-2-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-G-2" transform="translate(767.85 931.28)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-G-3" transform="translate(707.05 957.93)" clip-path="url(#flag-rounded-groups)"><image id="flag-G-3-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-G-3" transform="translate(767.85 981.18)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
    </g>
    
    <g id="groups-H">
      <text id="headerH" transform="translate(955.91 786.35)" style="font-family:Ar Essence,Arial,sans-serif;font-size:42.27px;fill:#fff"><tspan class="cls-43" x="0" y="0">G</tspan><tspan x="25.21" y="0">RUPO </tspan><tspan class="cls-20" x="141.75" y="0">H</tspan></text>
      <g id="flag-H-0" transform="translate(955.91 808.24)" clip-path="url(#flag-rounded-groups)"><image id="flag-H-0-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-H-0" transform="translate(1016.72 831.49)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-H-1" transform="translate(955.91 858.14)" clip-path="url(#flag-rounded-groups)"><image id="flag-H-1-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-H-1" transform="translate(1016.72 881.39)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-H-2" transform="translate(955.91 908.03)" clip-path="url(#flag-rounded-groups)"><image id="flag-H-2-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-H-2" transform="translate(1016.72 931.28)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-H-3" transform="translate(955.91 957.93)" clip-path="url(#flag-rounded-groups)"><image id="flag-H-3-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-H-3" transform="translate(1016.72 981.18)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
    </g>
    
    <g id="groups-I">
      <text id="headerI" transform="translate(1204.76 786.35)" style="font-family:Ar Essence,Arial,sans-serif;font-size:42.27px;fill:#fff"><tspan class="cls-43" x="0" y="0">G</tspan><tspan x="25.21" y="0">RUPO </tspan><tspan class="cls-57" x="141.75" y="0">I</tspan></text>
      <g id="flag-I-0" transform="translate(1204.76 808.24)" clip-path="url(#flag-rounded-groups)"><image id="flag-I-0-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-I-0" transform="translate(1265.57 831.49)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-I-1" transform="translate(1204.76 858.14)" clip-path="url(#flag-rounded-groups)"><image id="flag-I-1-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-I-1" transform="translate(1265.57 881.39)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-I-2" transform="translate(1204.76 908.03)" clip-path="url(#flag-rounded-groups)"><image id="flag-I-2-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-I-2" transform="translate(1265.57 931.28)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-I-3" transform="translate(1204.76 957.93)" clip-path="url(#flag-rounded-groups)"><image id="flag-I-3-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-I-3" transform="translate(1265.57 981.18)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
    </g>
    
    <g id="groups-J">
      <text id="headerJ" transform="translate(1453.62 262.09)" style="font-family:Ar Essence,Arial,sans-serif;font-size:42.27px;fill:#fff"><tspan class="cls-43" x="0" y="0">G</tspan><tspan x="25.21" y="0">RUPO </tspan><tspan class="cls-20" x="141.75" y="0">J</tspan></text>
      <g id="flag-J-0" transform="translate(1453.62 283.98)" clip-path="url(#flag-rounded-groups)"><image id="flag-J-0-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-J-0" transform="translate(1514.42 307.23)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-J-1" transform="translate(1453.62 333.88)" clip-path="url(#flag-rounded-groups)"><image id="flag-J-1-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-J-1" transform="translate(1514.42 357.13)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-J-2" transform="translate(1453.62 383.77)" clip-path="url(#flag-rounded-groups)"><image id="flag-J-2-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-J-2" transform="translate(1514.42 407.02)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-J-3" transform="translate(1453.62 433.67)" clip-path="url(#flag-rounded-groups)"><image id="flag-J-3-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-J-3" transform="translate(1514.42 456.92)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
    </g>
    
    <g id="groups-K">
      <text id="headerK" transform="translate(1453.62 524.22)" style="font-family:Ar Essence,Arial,sans-serif;font-size:42.27px;fill:#fff"><tspan class="cls-43" x="0" y="0">G</tspan><tspan x="25.21" y="0">RUPO </tspan><tspan class="cls-20" x="141.75" y="0">K</tspan></text>
      <g id="flag-K-0" transform="translate(1453.62 546.11)" clip-path="url(#flag-rounded-groups)"><image id="flag-K-0-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-K-0" transform="translate(1514.42 569.36)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-K-1" transform="translate(1453.62 596.01)" clip-path="url(#flag-rounded-groups)"><image id="flag-K-1-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-K-1" transform="translate(1514.42 619.26)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-K-2" transform="translate(1453.62 645.9)" clip-path="url(#flag-rounded-groups)"><image id="flag-K-2-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-K-2" transform="translate(1514.42 669.15)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-K-3" transform="translate(1453.62 695.8)" clip-path="url(#flag-rounded-groups)"><image id="flag-K-3-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-K-3" transform="translate(1514.42 719.05)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
    </g>
    
    <g id="groups-L">
      <text id="headerL" transform="translate(1453.62 786.35)" style="font-family:Ar Essence,Arial,sans-serif;font-size:42.27px;fill:#fff"><tspan class="cls-43" x="0" y="0">G</tspan><tspan x="25.21" y="0">RUPO </tspan><tspan class="cls-20" x="141.75" y="0">L</tspan></text>
      <g id="flag-L-0" transform="translate(1453.62 808.24)" clip-path="url(#flag-rounded-groups)"><image id="flag-L-0-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-L-0" transform="translate(1514.42 831.49)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-L-1" transform="translate(1453.62 858.14)" clip-path="url(#flag-rounded-groups)"><image id="flag-L-1-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-L-1" transform="translate(1514.42 881.39)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-L-2" transform="translate(1453.62 908.03)" clip-path="url(#flag-rounded-groups)"><image id="flag-L-2-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-L-2" transform="translate(1514.42 931.28)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
      <g id="flag-L-3" transform="translate(1453.62 957.93)" clip-path="url(#flag-rounded-groups)"><image id="flag-L-3-image" x="0" y="0" width="51.4" height="34.2" href="/w2560/inc.png"/></g><text id="team-L-3" transform="translate(1514.42 981.18)" style="font-family:Moderniz,Arial,sans-serif;font-size:24px;fill:#fff"></text>
    </g>
  </svg>

  <!-- ============================================
       JAVASCRIPT
       ============================================ -->
  <script src="https://cdn.socket.io/4.6.0/socket.io.min.js"></script>
  <script>
    const socket = io();
    
    let currentBombo = 1;
    let bombos = { 1: [], 2: [], 3: [], 4: [] };
    let groups = { A: [], B: [], C: [], D: [], E: [], F: [], G: [], H: [], I: [], J: [], K: [], L: [] };
    
    const bomboFlagOffset = { x: 0, y: 0 };
    
    const countryToCode = {
      'Alemania': 'ger', 'Argentina': 'arg', 'Arabia Saudita': 'ksa', 'Australia': 'aus',
      'Bélgica': 'bel', 'Brasil': 'bra', 'Camerún': 'cmr', 'Canadá': 'can',
      'Catar': 'qat', 'Corea del Sur': 'kor', 'Costa Rica': 'crc', 'Croacia': 'cro',
      'Dinamarca': 'den', 'Ecuador': 'ecu', 'España': 'esp', 'Estados Unidos': 'usa',
      'Francia': 'fra', 'Gales': 'wal', 'Ghana': 'gha', 'Inglaterra': 'eng',
      'Irán': 'irn', 'Japón': 'jpn', 'Marruecos': 'mar', 'México': 'mex',
      'Países Bajos': 'ned', 'Polonia': 'pol', 'Portugal': 'por', 'Senegal': 'sen',
      'Serbia': 'srb', 'Suiza': 'sui', 'Túnez': 'tun', 'Uruguay': 'uru'
    };
    
    const countryAbbreviations = {
      'Alemania': 'GER', 'Argentina': 'ARG', 'Arabia Saudita': 'KSA', 'Australia': 'AUS',
      'Bélgica': 'BEL', 'Brasil': 'BRA', 'Camerún': 'CMR', 'Canadá': 'CAN',
      'Catar': 'QAT', 'Corea del Sur': 'KOR', 'Costa Rica': 'CRC', 'Croacia': 'CRO',
      'Dinamarca': 'DEN', 'Ecuador': 'ECU', 'España': 'ESP', 'Estados Unidos': 'USA',
      'Francia': 'FRA', 'Gales': 'WAL', 'Ghana': 'GHA', 'Inglaterra': 'ENG',
      'Irán': 'IRN', 'Japón': 'JPN', 'Marruecos': 'MAR', 'México': 'MEX',
      'Países Bajos': 'NED', 'Polonia': 'POL', 'Portugal': 'POR', 'Senegal': 'SEN',
      'Serbia': 'SRB', 'Suiza': 'SUI', 'Túnez': 'TUN', 'Uruguay': 'URU'
    };
    
    const countriesWithWhiteBackground = ['pol', 'arg', 'eng', 'ger', 'fra'];

    socket.on('update_bombos', (data) => {
      bombos = data.bombos;
      updateBomboDisplay(currentBombo);
    });

    socket.on('update_groups', (data) => {
      groups = data.groups;
      updateGroupsDisplay();
    });

    socket.on('update_current_state', (data) => {
      bombos = data.bombos || { 1: [], 2: [], 3: [], 4: [] };
      groups = data.groups || { A: [], B: [], C: [], D: [], E: [], F: [], G: [], H: [], I: [], J: [], K: [], L: [] };
      updateBomboDisplay(currentBombo);
      updateGroupsDisplay();
    });

    function isTeamAssignedInOverlay(teamName) {
      if (!teamName) return false;
      for (const letter in groups) {
        if (groups[letter].includes(teamName)) {
          return true;
        }
      }
      return false;
    }

    function updateGroupsDisplay() {
      const groupLetters = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L'];
      groupLetters.forEach(letter => {
        const groupTeams = groups[letter] || [];
        for (let i = 0; i < 4; i++) {
          const teamName = groupTeams[i] || '';
          const teamElement = document.getElementById(`team-${letter}-${i}`);
          const flagElement = document.getElementById(`flag-${letter}-${i}-image`);
          
          if (teamElement) {
            const abbreviation = teamName ? (countryAbbreviations[teamName] || teamName) : '';
            teamElement.textContent = abbreviation;
          }
          
          if (flagElement) {
            if (teamName && countryToCode[teamName]) {
              const code = countryToCode[teamName];
              flagElement.href.baseVal = `/w2560/${code}.png`;
            } else {
              flagElement.href.baseVal = '/w2560/inc.png';
            }
          }
        }
      });
    }

    socket.on('highlight_country', (data) => {
      const { bomboNumber, countryIndex } = data;
      if (bomboNumber !== currentBombo) return;
      
      const bomboTeams = bombos[bomboNumber] || [];
      const suffix = bomboNumber === 1 ? '' : `-b${bomboNumber}`;
      
      for (let b = 1; b <= 4; b++) {
        const featuredGroup = document.getElementById(`featured-country-${b}`);
        if (featuredGroup) {
          featuredGroup.setAttribute('opacity', '0');
        }
      }
      
      for (let i = 0; i < 12; i++) {
        const highlightElement = document.getElementById(`country-highlight-${i}${suffix}`);
        if (highlightElement) {
          if (i === countryIndex) {
            highlightElement.setAttribute('opacity', '1');
          } else {
            highlightElement.setAttribute('opacity', '0');
          }
        }
      }
      
      if (countryIndex >= 0 && countryIndex < 12) {
        const teamName = bomboTeams[countryIndex];
        
        if (teamName) {
          for (let i = 0; i < 12; i++) {
            const highlightElement = document.getElementById(`country-highlight-${i}${suffix}`);
            const teamTextElement = document.getElementById(`bombo-team-${i}${suffix}`);
            const flagContainer = document.getElementById(`flag-container-${i}${suffix}`);
            
            if (highlightElement) highlightElement.setAttribute('opacity', '0');
            if (teamTextElement) teamTextElement.setAttribute('opacity', '0');
            if (flagContainer) flagContainer.setAttribute('opacity', '0');
          }
          
          const featuredGroup = document.getElementById(`featured-country-${currentBombo}`);
          const featuredFlag = document.getElementById(`featured-flag-${currentBombo}`);
          const featuredText = document.getElementById(`featured-text-${currentBombo}`);
          
          if (featuredGroup && featuredFlag && featuredText) {
            if (countryToCode[teamName]) {
              const code = countryToCode[teamName];
              featuredFlag.href.baseVal = `/w2560/${code}.png`;
            }
            
            featuredText.textContent = teamName;
            featuredGroup.setAttribute('opacity', '1');
          }
        }
      } else {
        for (let b = 1; b <= 4; b++) {
          const suffixLoop = b === 1 ? '' : `-b${b}`;
          
          for (let i = 0; i < 12; i++) {
            const highlightElement = document.getElementById(`country-highlight-${i}${suffixLoop}`);
            const teamTextElement = document.getElementById(`bombo-team-${i}${suffixLoop}`);
            const flagContainer = document.getElementById(`flag-container-${i}${suffixLoop}`);
            
            if (highlightElement) highlightElement.setAttribute('opacity', '0');
            if (teamTextElement) {
              teamTextElement.setAttribute('opacity', '1');
              teamTextElement.style.fill = 'var(--bombo-team-color)';
            }
            if (flagContainer) flagContainer.setAttribute('opacity', '1');
          }
        }
      }
    });

    function updateBomboDisplay(bomboNumber) {
      currentBombo = bomboNumber;
      const bomboTeams = bombos[bomboNumber] || [];
      
      let visibleBombo = null;
      for (let b = 1; b <= 4; b++) {
        const container = document.getElementById(`bombo-container-${b}`);
        if (container && container.style.display !== 'none') {
          visibleBombo = container;
          break;
        }
      }
      
      const updateBomboContent = () => {
        const suffix = bomboNumber === 1 ? '' : `-b${bomboNumber}`;

        for (let i = 0; i < 12; i++) {
          const teamName = bomboTeams[i] || '';
          const teamElement = document.getElementById(`bombo-team-${i}${suffix}`);
          const flagElement = document.getElementById(`bombo-flag-${i}${suffix}`);
          const isAssigned = isTeamAssignedInOverlay(teamName);

          if (teamElement) {
            const abbreviation = teamName ? (countryAbbreviations[teamName] || teamName) : '';
            teamElement.textContent = abbreviation;
            
            if (isAssigned) {
              teamElement.setAttribute('class', 'cls-8 assigned-text');
            } else {
              teamElement.setAttribute('class', 'cls-8');
            }
          }

          if (flagElement) {
            if (teamName && countryToCode[teamName]) {
              const code = countryToCode[teamName];
              flagElement.href.baseVal = `/w2560/${code}.png`;
              
              const borderElement = document.getElementById(`border-bombo-flag-${i}${suffix}`);
              if (borderElement) {
                if (countriesWithWhiteBackground.includes(code)) {
                  borderElement.setAttribute('stroke', 'var(--flag-border-color)');
                } else {
                  borderElement.setAttribute('stroke', 'none');
                }
              }
            } else {
              flagElement.href.baseVal = '/w2560/inc.png';
              const borderElement = document.getElementById(`border-bombo-flag-${i}${suffix}`);
              if (borderElement) {
                borderElement.setAttribute('stroke', 'none');
              }
            }
            
            flagElement.setAttribute('x', bomboFlagOffset.x);
            flagElement.setAttribute('y', bomboFlagOffset.y);
            
            if (isAssigned) {
              flagElement.setAttribute('class', 'flag-image assigned-flag');
            } else {
              flagElement.setAttribute('class', 'flag-image');
            }
          }
        }
      };
      
      if (visibleBombo && visibleBombo.id !== `bombo-container-${bomboNumber}`) {
        visibleBombo.classList.add('fade-out');
        visibleBombo.classList.remove('fade-in');
        
        setTimeout(() => {
          for (let b = 1; b <= 4; b++) {
            const bomboContainer = document.getElementById(`bombo-container-${b}`);
            if (bomboContainer) {
              bomboContainer.style.display = 'none';
              bomboContainer.classList.remove('fade-out', 'fade-in');
            }
          }
          
          const newBomboContainer = document.getElementById(`bombo-container-${bomboNumber}`);
          if (newBomboContainer) {
            newBomboContainer.style.display = 'block';
            newBomboContainer.offsetHeight;
            newBomboContainer.classList.add('fade-in');
          }
          
          updateBomboContent();
        }, 400);
      } else {
        for (let b = 1; b <= 4; b++) {
          const bomboContainer = document.getElementById(`bombo-container-${b}`);
          if (bomboContainer) {
            bomboContainer.style.display = 'none';
            bomboContainer.classList.remove('fade-out', 'fade-in');
          }
        }
        
        const currentBomboContainer = document.getElementById(`bombo-container-${bomboNumber}`);
        if (currentBomboContainer) {
          currentBomboContainer.style.display = 'block';
          currentBomboContainer.offsetHeight;
          currentBomboContainer.classList.add('fade-in');
        }
        
        updateBomboContent();
      }
    }

    socket.on('connect', () => {
      console.log('Connected to server (overlay3)');
      socket.emit('request_current_state');
    });

    const originalBBoxes = {};
    
    function getOriginalBBox(element, cacheKey) {
      if (originalBBoxes[cacheKey]) {
        return originalBBoxes[cacheKey];
      }
      
      const currentTransform = element.getAttribute('transform');
      const currentDisplay = element.style.display;
      
      element.removeAttribute('transform');
      
      const wasHidden = currentDisplay === 'none';
      if (wasHidden) {
        element.style.display = 'block';
      }
      
      const bbox = element.getBBox();
      originalBBoxes[cacheKey] = { x: bbox.x, y: bbox.y, width: bbox.width, height: bbox.height };
      
      if (currentTransform) {
        element.setAttribute('transform', currentTransform);
      }
      if (wasHidden) {
        element.style.display = 'none';
      }
      
      return originalBBoxes[cacheKey];
    }
    
    function applyTransform(type, id, transform) {
      const { x, y, scaleX, scaleY } = transform;
      
      if (type === 'group') {
        const header = document.getElementById(`header${id}`);
        if (header) {
          const groupElement = header.parentElement;
          if (groupElement && groupElement.tagName.toLowerCase() === 'g') {
            const bbox = getOriginalBBox(groupElement, `group-${id}`);
            const transformStr = `translate(${x}, ${y}) scale(${scaleX}, ${scaleY}) translate(${-bbox.x}, ${-bbox.y})`;
            groupElement.setAttribute('transform', transformStr);
            console.log(`Applied absolute position to group ${id}: top-left at (${x}, ${y}) scale(${scaleX}, ${scaleY})`);
          } else {
            console.warn(`Group element not found for ${id}`);
          }
        } else {
          console.warn(`Header not found: header${id}`);
        }
      } else if (type === 'bombo') {
        const bomboContainer = document.getElementById(`bombo-container-${id}`);
        if (bomboContainer && bomboContainer.tagName.toLowerCase() === 'g') {
          const bbox = getOriginalBBox(bomboContainer, `bombo-${id}`);
          const transformStr = `translate(${x}, ${y}) scale(${scaleX}, ${scaleY}) translate(${-bbox.x}, ${-bbox.y})`;
          bomboContainer.setAttribute('transform', transformStr);
          console.log(`Applied absolute position to bombo ${id}: top-left at (${x}, ${y}) scale(${scaleX}, ${scaleY})`);
        } else {
          console.warn(`Bombo container not found: bombo-container-${id}`);
        }
      }
    }

    socket.on('transforms_update', (transformsData) => {
      console.log('Transforms update received from server', transformsData);
      
      if (transformsData.groups) {
        Object.keys(transformsData.groups).forEach(letter => {
          applyTransform('group', letter, transformsData.groups[letter]);
        });
      }
      
      if (transformsData.bombos) {
        Object.keys(transformsData.bombos).forEach(num => {
          applyTransform('bombo', num, transformsData.bombos[num]);
        });
      }
    });

    const configLoader = new ConfigLoader('/config-overlay3.json');
    configLoader.load().then(() => {
      configLoader.applyStylesToDocument();
      const svg = document.querySelector('svg');
      if (svg && svg.complete) {
        configLoader.applySVGConfiguration(svg);
      } else if (svg) {
        svg.addEventListener('load', () => {
          configLoader.applySVGConfiguration(svg);
        });
      }
      document.addEventListener('svgLoaded', () => {
        const svgElement = document.querySelector('svg');
        if (svgElement) configLoader.applySVGConfiguration(svgElement);
      });
    }).catch(err => {
      console.warn('Config loader initialization warning:', err);
    });
  </script>
</body>
</html>
